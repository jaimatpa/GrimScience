import{_ as _e,a as be}from"./BzVEqXPg.js";import{b as J,_ as ve,a as xe}from"./Be2iH8Rx.js";import{a as X,_ as ee,b as ye}from"./Crp9aCmO.js";import{d as le,j as oe,l as he,r as _,m as ge,o as k,c as D,h as l,f as e,g as o,p as Ve,e as K,w as n,F as A,q as Ce,s as te,t as ke,i as Ue,u as we,a as De,k as Oe,x as Z,y as Se,z as Y,v as Ie}from"./RPcYXXev.js";import{_ as Me}from"./yGFOaDKw.js";import{_ as $e}from"./BQUlXvKt.js";import{_ as Pe}from"./lE0Kizl1.js";import{_ as Ee}from"./DHKz6DHT.js";import{_ as Te}from"./DBeKXjhb.js";import{_ as Le}from"./CtWjGfD-.js";import{_ as qe}from"./C1sp2X5w.js";import{L as Ne,u as v}from"./BqkbertX.js";import{_ as Re}from"./D923ZLaS.js";import{a as ze}from"./Dw6iTx8h.js";import{_ as Ae,a as Be}from"./CIB32lOs.js";import{_ as Fe}from"./E1zpYRWT.js";import"./B4XmkEM1.js";import"./BYchAQ3Y.js";import"./DTMMRf-M.js";import"./N6g2mK6h.js";import"./CBKg8vbb.js";import"./DFiUDov5.js";import"./CZ9EiQCe.js";import"./rJN6zrQ_.js";import"./OsgMrgDf.js";import"./3snQ80t5.js";const Qe=Ce(Te),Ge={class:"vl-parent"},je={class:"flex flex-row"},We={class:"flex flex-row space-x-3"},He={class:"basis-1/5"},Ke={class:"basis-1/5"},Ze={class:"basis-1/5"},Ye={class:"basis-1/5"},Je={class:"flex flex-row space-x-3"},Xe={class:"basis-1/5"},el={class:"basis-1/5"},ll={class:"basis-1/5"},ol={class:"basis-1/5"},tl={class:"basis-1/5"},sl={class:"flex flex-row space-x-3"},al={class:"basis-1/5"},nl={class:"basis-1/5"},il={class:"basis-1/5"},dl={class:"basis-2/5"},rl={class:"flex flex-row space-x-5"},ul={class:"basis-1.2/5"},cl={class:"basis-1.2/5"},ml={class:"basis-1.2/5"},pl={class:"grid grid-cols-1 h-48"},fl={class:"space-y-2 mt-2"},_l={class:"flex items-center space-x-2"},bl=l("label",null,"On Order",-1),vl={class:"flex items-center space-x-2"},xl=l("label",null,"On Hand",-1),yl={class:"flex items-center space-x-2"},hl=l("label",null,"Required",-1),gl={class:"flex items-center space-x-2"},Vl=l("label",null,"Available",-1),Cl={class:"flex items-center space-x-2"},kl=l("label",null,"Minimum",-1),Ul={class:"grid grid-cols-1 mt-6 h-48"},wl={class:"grid grid-cols-1 mt-6 h-48 w-72"},Dl={class:"flex flex-row space-x-3"},Ol={class:"grid grid-cols-1 mt-6 h-48"},Sl={class:""},Il={class:"grid grid-cols-1 mt-6 h-48 w-60"},Ml={class:"flex flex-row space-x-5"},$l={class:"grid grid-cols-1 gap-5"},Pl={class:"grid grid-cols-1 gap-5"},El={class:"flex flex-row space-x-2"},Tl={class:"grid grid-cols-1 gap-1"},Ll=l("div",{class:"basis-1/2 text-center"}," Qty ",-1),ql={class:"grid grid-cols-1"},Nl=l("div",{class:"basis-1/2 text-center"}," Price ",-1),Rl={class:"grid grid-cols-1 gap-5"},zl=l("div",{class:"flex flex-row"},[l("div",{class:"basis-1/2 text-center"}," Shipping Information "),l("div",{class:"basis-1/2 text-center"}," Billing Information ")],-1),Al={class:"flex flex-row space-x-5"},Bl={class:"basis-1/2"},Fl={class:"flex flex-col space-y-2"},Ql={class:"flex flex-row space-x-3"},Gl={class:"basis-1/2"},jl={class:"basis-1/2"},Wl={class:"flex flex-row space-x-3"},Hl={class:"w-full"},Kl={class:"flex flex-row space-x-3"},Zl={class:"w-full"},Yl={class:"flex flex-row space-x-3"},Jl={class:"basis-1/2"},Xl={class:"basis-1/4"},eo={class:"basis-1/4"},lo={class:"flex flex-row space-x-3"},oo={class:"basis-1/2"},to={class:"basis-1/2"},so={class:"flex flex-row space-x-3"},ao={class:"basis-6/12"},no={class:"basis-5/12"},io={class:"basis-1/12"},ro={class:"flex flex-row space-x-3"},uo={class:"basis-1/2"},co={class:"basis-1/2"},mo={class:"flex flex-row space-x-3"},po={class:"w-full"},fo={class:"basis-1/2"},_o={class:"flex flex-col space-y-2"},bo={class:"flex flex-row space-x-3"},vo={class:"basis-1/2"},xo={class:"basis-1/2"},yo={class:"flex flex-row space-x-3"},ho={class:"w-full"},go={class:"flex flex-row space-x-3"},Vo={class:"w-full"},Co={class:"flex flex-row space-x-3"},ko={class:"basis-1/2"},Uo={class:"basis-1/4"},wo={class:"basis-1/4"},Do={class:"flex flex-row space-x-3"},Oo={class:"basis-1/2"},So={class:"basis-1/2"},Io={class:"flex flex-row space-x-3"},Mo={class:"w-full"},$o={class:"flex flex-row space-x-3"},Po={class:"w-full"},Eo={class:"flex justify-end gap-3"},To=le({__name:"PartsForm",props:{selectedCustomer:{type:[String,Number,null],required:!0},isModal:{type:[Boolean]}},emits:["close","save"],setup(B,{emit:F}){const $=[{name:"Lindsay Walton"},{name:"Lindsay Walton"},{name:"Lindsay Walton"},{name:"Lindsay Walton"},{name:"Lindsay Walton"},{name:"Lindsay Walton"}],O=[{id:"5645",date:5/5/12,Qty:"2"},{id:"5645",date:5/5/12,Qty:"2"},{id:"5645",date:5/5/12,Qty:"2"},{id:"5645",date:5/5/12,Qty:"2"},{id:"5645",date:5/5/12,Qty:"2"},{id:"5645",date:5/5/12,Qty:"2"}],u=[{po:"PO54654",date:5/5/12,ordered:"2",recieved:"54",Price:"",vender:"dfkalsdf"},{po:"PO54654",date:5/5/12,ordered:"2",recieved:"54",Price:"",vender:"dfkalsdf"},{po:"PO54654",date:5/5/12,ordered:"2",recieved:"54",Price:"",vender:"dfkalsdf"},{po:"PO54654",date:5/5/12,ordered:"2",recieved:"54",Price:"",vender:"dfkalsdf"},{po:"PO54654",date:5/5/12,ordered:"2",recieved:"54",Price:"",vender:"dfkalsdf"},{po:"PO54654",date:5/5/12,ordered:"2",recieved:"54",Price:"",vender:"dfkalsdf"}],p=F,f=B,R=oe(),P=he(),U=ke(),g=_(!1),x=_(!0),S=_([]),I=_([]),E=_([]),T=_([]),M=_([]),a=ge({UniqueID:null,market:null,number:null,source:I[0],sourcedescription:null,SourceConfrence:null,fname:null,mi:null,lname:null,title:null,position:null,company1:null,company2:null,country:null,address:null,city:null,state:null,zip:null,workphone:null,homephone:null,cellphone:null,fax:null,email:null,website:null,notes:null,billcompany1:null,billcompany2:null,billcountry:null,billaddress:null,billcity:null,billstate:null,billzip:null,billphone:null,billfax:null,attn:null,adddate:null,ParadynamixCatagory:null,fullname:null,Extension:null,ExtensionBill:null}),Q=async()=>{g.value=!0,await v(`/api/customers/${f.selectedCustomer}`,{method:"GET",onResponse({response:m}){if(m.status===200){g.value=!1,x.value=!0;for(const s in m._data.body)m._data.body[s]!==void 0&&(a[s]=m._data.body[s])}},onResponseError({}){x.value=!1}}),L(),g.value=!1},L=async()=>{g.value=!0,await v("/api/customers/markets",{method:"GET",onResponse({response:m}){m.status===200&&(S.value=m._data.body)},onResponseError(){S.value=[]}}),await v("/api/customers/conferences",{method:"GET",onResponse({response:m}){m.status===200&&(T.value=m._data.body)},onResponseError(){T.value=[]}}),await v("/api/customers/categories",{method:"GET",onResponse({response:m}){m.status===200&&(E.value=m._data.body)},onResponseError(){E.value=[]}}),await v("/api/customers/professions",{method:"GET",onResponse({response:m}){m.status===200&&(I.value=m._data.body)},onResponseError(){I.value=[]}}),await v("/api/common/usstates",{method:"GET",onResponse({response:m}){m.status===200&&(M.value=m._data.body)},onResponseError(){M.value=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]}}),g.value=!1},G=m=>{const s=[];return m.fname||s.push({path:"fname",message:"Please enter your frist name."}),m.lname||s.push({path:"lname",message:"Please enter a your last name."}),m.email||s.push({path:"email",message:"Please enter an email."}),s},j=async()=>{var m;(m=U==null?void 0:U.vnode)!=null&&m.props.onClose?p("close"):P.go(-1)},z=async m=>{f.selectedCustomer===null?await v("/api/customers",{method:"POST",body:m.data,onResponse({response:s}){s.status===200&&R.add({title:"Success",description:s._data.message,icon:"i-heroicons-check-circle",color:"green"})}}):await v(`/api/customers/${f.selectedCustomer}`,{method:"PUT",body:m.data,onResponse({response:s}){s.status===200&&R.add({title:"Success",description:s._data.message,icon:"i-heroicons-check-circle",color:"green"})}}),p("save")};return f.selectedCustomer!==null?Q():L(),(m,s)=>{const W=Qe,y=Le,d=X,t=ee,r=J,V=qe,b=te,q=ye;return k(),D(A,null,[l("div",Ge,[e(o(Ne),{active:o(g),"onUpdate:active":s[0]||(s[0]=i=>Ve(g)?g.value=i:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),!f.isModal&&!o(x)?(k(),K(W,{key:0,name:"Customer not found",message:"The customer you are looking for does not exist",to:"/customers/customers/list"})):(k(),K(q,{key:1,validate:G,"validate-on":["submit"],state:o(a),class:"space-y-4",onSubmit:z},{default:n(()=>[l("div",je,[l("div",null,[l("div",We,[l("div",He,[e(d,{label:"Category",name:"fname"},{default:n(()=>[e(y,{modelValue:o(a).fname,"onUpdate:modelValue":s[1]||(s[1]=i=>o(a).fname=i),placeholder:"Category"},null,8,["modelValue"])]),_:1})]),l("div",Ke,[e(d,{label:"Sub Category",name:"lname"},{default:n(()=>[e(y,{modelValue:o(a).lname,"onUpdate:modelValue":s[2]||(s[2]=i=>o(a).lname=i),placeholder:"Sub Category"},null,8,["modelValue"])]),_:1})]),l("div",Ze,[e(d,{label:"Stock Number",name:"title"},{default:n(()=>[e(t,{modelValue:o(a).title,"onUpdate:modelValue":s[3]||(s[3]=i=>o(a).title=i),placeholder:"Stock Number"},null,8,["modelValue"])]),_:1})]),l("div",Ye,[e(d,{label:"Inspection",name:"position"},{default:n(()=>[e(t,{modelValue:o(a).position,"onUpdate:modelValue":s[4]||(s[4]=i=>o(a).position=i),placeholder:"Inspection"},null,8,["modelValue"])]),_:1})])]),l("div",Je,[l("div",Xe,[e(d,{label:"Order Unit",name:"market"},{default:n(()=>[e(y,{modelValue:o(a).market,"onUpdate:modelValue":s[5]||(s[5]=i=>o(a).market=i),query:o(a).market,"onUpdate:query":s[6]||(s[6]=i=>o(a).market=i),options:o(S)},null,8,["modelValue","query","options"])]),_:1})]),l("div",el,[e(d,{label:"Multiple",name:"number"},{default:n(()=>[e(t,{modelValue:o(a).number,"onUpdate:modelValue":s[7]||(s[7]=i=>o(a).number=i),placeholder:""},null,8,["modelValue"])]),_:1})]),l("div",ll,[e(d,{label:"Inventory Unit",name:"profession"},{default:n(()=>[e(y,{modelValue:o(a).source,"onUpdate:modelValue":s[8]||(s[8]=i=>o(a).source=i),query:o(a).source,"onUpdate:query":s[9]||(s[9]=i=>o(a).source=i),options:o(I)},null,8,["modelValue","query","options"])]),_:1})]),l("div",ol,[e(d,{label:"Account#",name:"Account"},{default:n(()=>[e(y,{modelValue:o(a).ParadynamixCatagory,"onUpdate:modelValue":s[10]||(s[10]=i=>o(a).ParadynamixCatagory=i),query:o(a).ParadynamixCatagory,"onUpdate:query":s[11]||(s[11]=i=>o(a).ParadynamixCatagory=i),options:o(E)},null,8,["modelValue","query","options"])]),_:1})]),l("div",tl,[e(d,{label:"Description",name:"Description"},{default:n(()=>[e(y,{modelValue:o(a).SourceConfrence,"onUpdate:modelValue":s[12]||(s[12]=i=>o(a).SourceConfrence=i),query:o(a).SourceConfrence,"onUpdate:query":s[13]||(s[13]=i=>o(a).SourceConfrence=i),options:o(T)},null,8,["modelValue","query","options"])]),_:1})])]),l("div",sl,[l("div",al,[e(d,{label:"Order Cost",name:"Order Cost"},{default:n(()=>[e(y,{modelValue:o(a).market,"onUpdate:modelValue":s[14]||(s[14]=i=>o(a).market=i),query:o(a).market,"onUpdate:query":s[15]||(s[15]=i=>o(a).market=i),options:o(S)},null,8,["modelValue","query","options"])]),_:1})]),l("div",nl,[e(d,{label:"Inventory Cost",name:"Inventory Cost"},{default:n(()=>[e(t,{modelValue:o(a).number,"onUpdate:modelValue":s[16]||(s[16]=i=>o(a).number=i),placeholder:""},null,8,["modelValue"])]),_:1})]),l("div",il,[e(d,{label:"Selling Price",name:"Selling Price"},{default:n(()=>[e(t)]),_:1})]),l("div",dl,[e(d,{label:"Specification",name:"Account"},{default:n(()=>[e(t)]),_:1})])]),l("div",rl,[l("div",ul,[e(d,{label:"Drawing/Mannul",name:"Drawing/Mannul"},{default:n(()=>[e(t,{type:"file",size:"sm",icon:"i-heroicons-folder"})]),_:1})]),l("div",cl,[e(d,{label:"PDS",name:"PDS"},{default:n(()=>[e(t,{type:"file",size:"sm",icon:"i-heroicons-folder"})]),_:1})]),l("div",ml,[e(d,{label:"SDS",name:"SDS"},{default:n(()=>[e(t,{type:"file",size:"sm",icon:"i-heroicons-folder"})]),_:1})])])]),l("div",null,[l("div",pl,[e(r,{rows:$})]),l("div",fl,[l("div",_l,[bl,e(t,{class:"flex-1"})]),l("div",vl,[xl,e(t,{class:"flex-1"})]),l("div",yl,[hl,e(t,{class:"flex-1"})]),l("div",gl,[Vl,e(t,{class:"flex-1"})]),l("div",Cl,[kl,e(t,{class:"flex-1"})])]),l("div",Ul,[e(r,{rows:$})])]),l("div",null,[l("div",wl,[e(r,{rows:u})]),l("div",Dl,[l("div",Ol,[e(r,{rows:$})]),l("div",Sl,[e(d,{label:"Comments",name:"Comments"},{default:n(()=>[e(V,{class:"w-48"})]),_:1})])])]),l("div",Il,[e(r,{rows:O})])]),l("div",Ml,[l("div",$l,[l("div",null,[e(d,{label:"Manufacturer",name:"Manufacturer"},{default:n(()=>[e(t,{placeholder:"Garmin"})]),_:1})]),l("div",null,[e(d,{label:"Dealer",name:"Dealer"},{default:n(()=>[e(t,{placeholder:"Walmart.com"})]),_:1})]),l("div",null,[e(d,{label:"Lead Time",name:"Lead Time"},{default:n(()=>[e(t,{placeholder:"1"})]),_:1})])]),l("div",Pl,[l("div",null,[e(d,{label:"Part Number",name:"Part Number"},{default:n(()=>[e(t,{placeholder:""})]),_:1})]),l("div",null,[e(d,{label:"Part Number",name:"Part Number"},{default:n(()=>[e(t,{placeholder:"1"})]),_:1})]),l("div",null,[e(d,{label:"UL Number",name:"UL Number"},{default:n(()=>[e(t,{placeholder:"14.56"})]),_:1})])]),l("div",El,[l("div",Tl,[Ll,l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})])]),l("div",ql,[Nl,l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})]),l("div",null,[e(d,null,{default:n(()=>[e(t)]),_:1})])])]),l("div",Rl,[l("div",null,[e(d,{label:"Last Ordered Date:",name:"Last Ordered Date"},{default:n(()=>[e(t)]),_:1})])])]),zl,l("div",Al,[l("div",Bl,[l("div",Fl,[l("div",Ql,[l("div",Gl,[e(d,{label:"Company1",name:"company1"},{default:n(()=>[e(t,{modelValue:o(a).company1,"onUpdate:modelValue":s[17]||(s[17]=i=>o(a).company1=i),placeholder:"Company1"},null,8,["modelValue"])]),_:1})]),l("div",jl,[e(d,{label:"Company2",name:"company2"},{default:n(()=>[e(t,{modelValue:o(a).company2,"onUpdate:modelValue":s[18]||(s[18]=i=>o(a).company2=i),placeholder:"Company2"},null,8,["modelValue"])]),_:1})])]),l("div",Wl,[l("div",Hl,[e(d,{label:"Country",name:"country"},{default:n(()=>[e(t,{modelValue:o(a).country,"onUpdate:modelValue":s[19]||(s[19]=i=>o(a).country=i),placeholder:"Country"},null,8,["modelValue"])]),_:1})])]),l("div",Kl,[l("div",Zl,[e(d,{label:"Address",name:"address"},{default:n(()=>[e(t,{modelValue:o(a).address,"onUpdate:modelValue":s[20]||(s[20]=i=>o(a).address=i),placeholder:"Address"},null,8,["modelValue"])]),_:1})])]),l("div",Yl,[l("div",Jl,[e(d,{label:"City",name:"city"},{default:n(()=>[e(t,{modelValue:o(a).city,"onUpdate:modelValue":s[21]||(s[21]=i=>o(a).city=i),placeholder:"Dallas"},null,8,["modelValue"])]),_:1})]),l("div",Xl,[e(d,{label:"State",name:"state"},{default:n(()=>[e(y,{modelValue:o(a).state,"onUpdate:modelValue":s[22]||(s[22]=i=>o(a).state=i),options:o(M)},null,8,["modelValue","options"])]),_:1})]),l("div",eo,[e(d,{label:"Zip",name:"zip"},{default:n(()=>[e(t,{modelValue:o(a).zip,"onUpdate:modelValue":s[23]||(s[23]=i=>o(a).zip=i),placeholder:"65254"},null,8,["modelValue"])]),_:1})])]),l("div",lo,[l("div",oo,[e(d,{label:"Fax",name:"fax"},{default:n(()=>[e(t,{modelValue:o(a).fax,"onUpdate:modelValue":s[24]||(s[24]=i=>o(a).fax=i),placeholder:"Fax"},null,8,["modelValue"])]),_:1})]),l("div",to,[e(d,{label:"Homephone",name:"homephone"},{default:n(()=>[e(t,{modelValue:o(a).homephone,"onUpdate:modelValue":s[25]||(s[25]=i=>o(a).homephone=i),placeholder:"(564)-324-2342"},null,8,["modelValue"])]),_:1})])]),l("div",so,[l("div",ao,[e(d,{label:"Email",name:"email"},{default:n(()=>[e(t,{modelValue:o(a).email,"onUpdate:modelValue":s[26]||(s[26]=i=>o(a).email=i),type:"email",placeholder:"email"},null,8,["modelValue"])]),_:1})]),l("div",no,[e(d,{label:"Workphone",name:"workphone"},{default:n(()=>[e(t,{modelValue:o(a).workphone,"onUpdate:modelValue":s[27]||(s[27]=i=>o(a).workphone=i),placeholder:"(564)-324-2342"},null,8,["modelValue"])]),_:1})]),l("div",io,[e(d,{label:"Ext",name:"ext"},{default:n(()=>[e(t,{modelValue:o(a).Extension,"onUpdate:modelValue":s[28]||(s[28]=i=>o(a).Extension=i),placeholder:"1"},null,8,["modelValue"])]),_:1})])]),l("div",ro,[l("div",uo,[e(d,{label:"Website",name:"website"},{default:n(()=>[e(t,{modelValue:o(a).website,"onUpdate:modelValue":s[29]||(s[29]=i=>o(a).website=i),placeholder:"website"},null,8,["modelValue"])]),_:1})]),l("div",co,[e(d,{label:"Cellphone",name:"cellphone"},{default:n(()=>[e(t,{modelValue:o(a).cellphone,"onUpdate:modelValue":s[30]||(s[30]=i=>o(a).cellphone=i),placeholder:"(564)-324-2342"},null,8,["modelValue"])]),_:1})])]),l("div",mo,[l("div",po,[e(d,{label:"Comment",name:"comment"},{default:n(()=>[e(V,{modelValue:o(a).notes,"onUpdate:modelValue":s[31]||(s[31]=i=>o(a).notes=i),rows:3,type:"text",placeholder:""},null,8,["modelValue"])]),_:1})])])])]),l("div",fo,[l("div",_o,[l("div",bo,[l("div",vo,[e(d,{label:"Company1",name:"billcompany1"},{default:n(()=>[e(t,{modelValue:o(a).billcompany1,"onUpdate:modelValue":s[32]||(s[32]=i=>o(a).billcompany1=i),placeholder:"Bill Company1"},null,8,["modelValue"])]),_:1})]),l("div",xo,[e(d,{label:"Company2",name:"billcompany2"},{default:n(()=>[e(t,{modelValue:o(a).billcompany2,"onUpdate:modelValue":s[33]||(s[33]=i=>o(a).billcompany2=i),placeholder:"Bill Company2"},null,8,["modelValue"])]),_:1})])]),l("div",yo,[l("div",ho,[e(d,{label:"Country",name:"country"},{default:n(()=>[e(t,{modelValue:o(a).billcountry,"onUpdate:modelValue":s[34]||(s[34]=i=>o(a).billcountry=i),placeholder:"Bill Country"},null,8,["modelValue"])]),_:1})])]),l("div",go,[l("div",Vo,[e(d,{label:"Address",name:"address"},{default:n(()=>[e(t,{modelValue:o(a).billaddress,"onUpdate:modelValue":s[35]||(s[35]=i=>o(a).billaddress=i),placeholder:"Bill Address"},null,8,["modelValue"])]),_:1})])]),l("div",Co,[l("div",ko,[e(d,{label:"City",name:"billcity"},{default:n(()=>[e(t,{modelValue:o(a).billcity,"onUpdate:modelValue":s[36]||(s[36]=i=>o(a).billcity=i),placeholder:"Dallas"},null,8,["modelValue"])]),_:1})]),l("div",Uo,[e(d,{label:"State",name:"billstate"},{default:n(()=>[e(y,{modelValue:o(a).billstate,"onUpdate:modelValue":s[37]||(s[37]=i=>o(a).billstate=i),options:o(M)},null,8,["modelValue","options"])]),_:1})]),l("div",wo,[e(d,{label:"Zip",name:"billzip"},{default:n(()=>[e(t,{modelValue:o(a).billzip,"onUpdate:modelValue":s[38]||(s[38]=i=>o(a).billzip=i),placeholder:"65254"},null,8,["modelValue"])]),_:1})])]),l("div",Do,[l("div",Oo,[e(d,{label:"Fax",name:"billfax"},{default:n(()=>[e(t,{modelValue:o(a).billfax,"onUpdate:modelValue":s[39]||(s[39]=i=>o(a).billfax=i),placeholder:"Fax"},null,8,["modelValue"])]),_:1})]),l("div",So,[e(d,{label:"Phone",name:"billphone"},{default:n(()=>[e(t,{modelValue:o(a).billphone,"onUpdate:modelValue":s[40]||(s[40]=i=>o(a).billphone=i),placeholder:"(564)-324-2342"},null,8,["modelValue"])]),_:1})])]),l("div",Io,[l("div",Mo,[e(d,{label:"Ext",name:"ExtensionBill"},{default:n(()=>[e(t,{modelValue:o(a).ExtensionBill,"onUpdate:modelValue":s[41]||(s[41]=i=>o(a).ExtensionBill=i),placeholder:""},null,8,["modelValue"])]),_:1})])]),l("div",$o,[l("div",Po,[e(d,{label:"Attn",name:"attn"},{default:n(()=>[e(t,{modelValue:o(a).attn,"onUpdate:modelValue":s[42]||(s[42]=i=>o(a).attn=i),placeholder:"Attn"},null,8,["modelValue"])]),_:1})])])])])]),l("div",Eo,[e(b,{color:"red",variant:"outline",label:B.isModal?"Cancel":"Go back",onClick:j},null,8,["label"]),e(b,{color:"cyan",variant:"outline",type:"submit",label:"Save"})])]),_:1},8,["state"]))],64)}}}),Lo=l("div",{class:"px-4 py-2 gmsBlueTitlebar"},[l("h2",null,"Part Lookup")],-1),qo={class:"flex flex-row space-x-3"},No={key:0,class:"basis-1/7 max-w-[200px]"},Ro={class:"basis-1/7 max-w-[200px]"},zo={class:"basis-1/7 max-w-[200px]"},Ao={class:"text-center text-bold"},Bo=l("div",{class:"px-4 py-2 gmsBlueTitlebar"},[l("h2",null,"Lookup")],-1),Fo={key:0,class:"px-4 py-3.5"},Qo={key:1,class:"flex justify-center text-center w-[53px]"},Go={class:"border-t-[1px] border-gray-200 mb-1 dark:border-gray-800"},jo={class:"flex flex-row justify-end mr-20 mt-1"},Wo="i-heroicons-bars-arrow-up-20-solid",Ho="i-heroicons-bars-arrow-down-20-solid",Ko="i-heroicons-arrows-up-down-20-solid",Vt=le({__name:"parts",setup(B){Ue(()=>{g()}),we({title:"Grimm-Customers"});const F=De(),$=oe(),O=_({markets:{label:"Market",filter:"market",options:[]},professions:{label:"Profession",filter:"source",options:[]},categories:{label:"Category",filter:"ParadynamixCatagory",options:[]},conferences:{label:"Conference",filter:"SourceConfrence",options:[]},usstates:{label:"State",filter:"state",api:"/api/common/usstates",options:[]}}),u=_({defaultColumns:[{key:"number",label:"Category",sortable:!0,sortDirection:"none",filterable:!0},{key:"fname",label:"Sub Category",sortable:!0,sortDirection:"none",filterable:!0},{key:"lname",label:"Stock#",sortable:!0,sortDirection:"none",filterable:!0},{key:"company1",label:"Description",sortable:!0,sortDirection:"none",filterable:!0},{key:"homephone",label:"On Hand",sortable:!0,sortDirection:"none",filterable:!0},{key:"workphone",label:"ETL Critical Component",sortable:!0,sortDirection:"none",filterable:!0}],page:1,pageSize:50,numberOfCustomers:0,customers:[],selectedCustomerId:null,sort:{column:"UniqueID",direction:"asc"},isLoading:!1}),p=_({isCustomerModalOpen:!1,isOrderDetailModalOpen:!1,isQuoteDetailModalOpen:!1,isServiceOrderDetailModalOpen:!1,isSiteVisitModalOpen:!1,modalTitle:"New Customer"}),f=_({market:null,source:null,ParadynamixCatagory:null,SourceConfrence:null,number:null,fname:null,lname:null,company1:null,homephone:null,workphone:null,state:null,zip:null}),R=_(u.value.defaultColumns),P=_(!1),U=Oe(()=>u.value.defaultColumns.filter(t=>R.value.includes(t)));Object.entries(F.query).forEach(([t,r])=>{switch(t.toLowerCase()){case"page":u.value.page=Number(r);break;case"pagesize":u.value.pageSize=Number(r);break;case"sortby":u.value.sort.column=r;break;case"sortorder":u.value.sort.direction=r;break}});const g=async()=>{var t;x();for(const r in O.value){const V=((t=O.value[r])==null?void 0:t.api)??`/api/customers/${r}`;console.log("Api url is",V),await v(V,{method:"GET",onResponse({response:b}){b.status===200&&(O.value[r].options=[null,...b._data.body])}})}},x=async()=>{if(u.value.isLoading=!0,await v("/api/customers/numbers",{method:"GET",params:{...f.value},onResponse({response:t}){t.status===200&&(u.value.numberOfCustomers=t._data.body)}}),u.value.numberOfCustomers===0){u.value.customers=[],u.value.numberOfCustomers=0,u.value.isLoading=!1;return}u.value.page*u.value.pageSize>u.value.numberOfCustomers&&(u.value.page=Math.ceil(u.value.numberOfCustomers/u.value.pageSize)|1),await v("/api/customers/",{method:"GET",params:{page:u.value.page,pageSize:u.value.pageSize,sortBy:u.value.sort.column,sortOrder:u.value.sort.direction,...f.value},onResponse({response:t}){t.status===200&&(u.value.customers=t._data.body),u.value.isLoading=!1}})},S=()=>{u.value.selectedCustomerId=null,p.value.modalTitle="New Customer",p.value.isCustomerModalOpen=!0},I=t=>{u.value.selectedCustomerId=t==null?void 0:t.UniqueID,p.value.modalTitle="Edit",p.value.isCustomerModalOpen=!0},E=t=>{u.value.selectedCustomerId=t==null?void 0:t.UniqueID,p.value.isOrderDetailModalOpen=!0},T=t=>{u.value.selectedCustomerId=t==null?void 0:t.UniqueID,p.value.isQuoteDetailModalOpen=!0},M=t=>{u.value.selectedCustomerId=t==null?void 0:t.UniqueID,p.value.isServiceOrderDetailModalOpen=!0},a=t=>{u.value.selectedCustomerId=t==null?void 0:t.UniqueID,p.value.isSiteVisitModalOpen=!0},Q=async t=>{await v(`/api/customers/${t==null?void 0:t.UniqueID}`,{method:"DELETE",onResponse({response:r}){r.status===200&&($.add({title:"Success",description:r._data.message,icon:"i-heroicons-trash-solid",color:"green"}),x())}})},L=()=>{p.value.isCustomerModalOpen=!1},G=async()=>{L(),x()},j=async()=>{x()},z=()=>{u.value.page=1,x()},m=async t=>{u.value.page=1;for(const r of U.value)if(r.sortable)if(r.key===t)switch(r.sortDirection){case"none":r.sortDirection="asc",u.value.sort.column=t,u.value.sort.direction="asc";break;case"asc":r.sortDirection="desc",u.value.sort.column=t,u.value.sort.direction="desc";break;default:r.sortDirection="none",u.value.sort.column="UniqueID",u.value.sort.direction="asc";break}else r.sortDirection="none";x()},s=async(t,r)=>{u.value.page=1,f.value.hasOwnProperty(r)?f.value[r]=t:console.error(`Filter does not have property: ${r}`),x()},W=async()=>{P.value=!0;const t={sortBy:u.value.sort.column,sortOrder:u.value.sort.direction,...f.value},r=Object.entries(t).filter(([V,b])=>b!==null).map(([V,b])=>{if(b!==null)return`${V}=${b}`}).join("&");location.href=`/api/customers/exportlist?${r}`,P.value=!1},y=async t=>{u.value.selectedCustomerId=t==null?void 0:t.UniqueID},d=async()=>{u.value.selectedCustomerId&&(p.value.modalTitle="Edit",p.value.isCustomerModalOpen=!0)};return(t,r)=>{const V=_e,b=ve,q=X,i=ee,C=te,se=Me,ae=xe,w=$e,ne=J,ie=Pe,de=be,re=Ee,ue=To,N=Re,ce=ze,me=Ae,pe=Fe,fe=Be;return k(),D(A,null,[e(re,null,{default:n(()=>[e(de,{grow:""},{default:n(()=>[e(V,{class:"gmsBlueHeader",title:"Parts"}),Lo,e(se,null,{left:n(()=>[l("div",qo,[(k(!0),D(A,null,Z(Object.entries(o(O)),([c,h])=>(k(),D(A,{key:c},[h.options.length>1?(k(),D("div",No,[e(q,{label:h.label,name:c},{default:n(()=>[e(b,{modelValue:o(f)[`${h.filter}`],"onUpdate:modelValue":H=>o(f)[`${h.filter}`]=H,options:h.options,onChange:r[0]||(r[0]=H=>z())},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1032,["label","name"])])):Se("",!0)],64))),128)),l("div",Ro,[e(q,{label:"Zip",name:"zip"},{default:n(()=>[e(i,{modelValue:o(f).zip,"onUpdate:modelValue":[r[1]||(r[1]=c=>o(f).zip=c),r[2]||(r[2]=c=>z())]},null,8,["modelValue"])]),_:1})]),l("div",zo,[e(q,{label:"Quantity",name:"Quantity"},{default:n(()=>[l("div",Ao,Y(o(u).numberOfCustomers),1)]),_:1})])])]),right:n(()=>[e(C,{color:"green",variant:"outline",loading:o(P),label:"Export to Excel","trailing-icon":"i-heroicons-document-text",onClick:W},null,8,["loading"]),e(C,{color:"green",variant:"outline",label:"New customer","trailing-icon":"i-heroicons-plus",onClick:r[3]||(r[3]=c=>S())})]),_:1}),Bo,e(ne,{rows:o(u).customers,columns:o(U),loading:o(u).isLoading,class:"w-full",ui:{divide:"divide-gray-200 dark:divide-gray-800",th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{padding:"py-1"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},onSelect:y,onDblclick:d},Ie({"label-data":n(({row:c})=>[e(w,{text:"Label",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-tag",onClick:r[4]||(r[4]=()=>{})})]),_:1})]),"order-data":n(({row:c})=>[e(w,{text:"Order",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-shopping-cart",onClick:h=>E(c)},null,8,["onClick"])]),_:2},1024)]),"quote-data":n(({row:c})=>[e(w,{text:"Quote",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-currency-dollar",onClick:h=>T(c)},null,8,["onClick"])]),_:2},1024)]),"serviceOrder-data":n(({row:c})=>[e(w,{text:"Service Order",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-chat-bubble-left-ellipsis",onClick:h=>M(c)},null,8,["onClick"])]),_:2},1024)]),"siteVisit-data":n(({row:c})=>[e(w,{text:"Site Visit",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-clipboard-document-list",onClick:h=>a(c)},null,8,["onClick"])]),_:2},1024)]),"edit-data":n(({row:c})=>[e(w,{text:"Edit",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-pencil-square",onClick:h=>I(c)},null,8,["onClick"])]),_:2},1024)]),"delete-data":n(({row:c})=>[e(w,{text:"Delete",class:"flex justify-center"},{default:n(()=>[e(C,{color:"gray",variant:"ghost",icon:"i-heroicons-trash",onClick:h=>Q(c)},null,8,["onClick"])]),_:2},1024)]),_:2},[Z(o(U),c=>({name:`${c.key}-header`,fn:n(()=>[c.kind!=="actions"?(k(),D("div",Fo,[e(ae,{onHandleSortingButton:m,onHandleInputChange:s,label:c.label,sortable:c.sortable,"sort-key":c.key,"sort-icon":(c==null?void 0:c.sortDirection)==="none"?Ko:(c==null?void 0:c.sortDirection)==="asc"?Wo:Ho,filterable:c.filterable,"filter-key":c.key},null,8,["label","sortable","sort-key","sort-icon","filterable","filter-key"])])):(k(),D("div",Qo,Y(c.label),1))])}))]),1032,["rows","columns","loading"]),l("div",Go,[l("div",jo,[e(ie,{max:7,"page-count":o(u).pageSize,total:o(u).numberOfCustomers|0,modelValue:o(u).page,"onUpdate:modelValue":[r[5]||(r[5]=c=>o(u).page=c),r[6]||(r[6]=c=>j())]},null,8,["page-count","total","modelValue"])])])]),_:1})]),_:1}),e(N,{modelValue:o(p).isCustomerModalOpen,"onUpdate:modelValue":r[7]||(r[7]=c=>o(p).isCustomerModalOpen=c),title:o(p).modalTitle,ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[e(ue,{onClose:L,onSave:G,"selected-customer":o(u).selectedCustomerId,"is-modal":!0},null,8,["selected-customer"])]),_:1},8,["modelValue","title"]),e(N,{modelValue:o(p).isOrderDetailModalOpen,"onUpdate:modelValue":r[9]||(r[9]=c=>o(p).isOrderDetailModalOpen=c),title:"Invoice",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[e(ce,{"selected-customer":o(u).selectedCustomerId,onClose:r[8]||(r[8]=c=>o(p).isOrderDetailModalOpen=!1)},null,8,["selected-customer"])]),_:1},8,["modelValue"]),e(N,{modelValue:o(p).isQuoteDetailModalOpen,"onUpdate:modelValue":r[10]||(r[10]=c=>o(p).isQuoteDetailModalOpen=c),title:"Quote",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1000px] sm:max-w-7xl"}},{default:n(()=>[e(me,{"selected-customer":o(u).selectedCustomerId},null,8,["selected-customer"])]),_:1},8,["modelValue"]),e(N,{modelValue:o(p).isServiceOrderDetailModalOpen,"onUpdate:modelValue":r[11]||(r[11]=c=>o(p).isServiceOrderDetailModalOpen=c),title:"Service Order",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[e(pe,{"selected-customer":o(u).selectedCustomerId},null,8,["selected-customer"])]),_:1},8,["modelValue"]),e(N,{modelValue:o(p).isSiteVisitModalOpen,"onUpdate:modelValue":r[12]||(r[12]=c=>o(p).isSiteVisitModalOpen=c),title:"Site Visit",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[e(fe,{"selected-customer":o(u).selectedCustomerId},null,8,["selected-customer"])]),_:1},8,["modelValue"])],64)}}});export{Vt as default};
