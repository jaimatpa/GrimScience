import{_ as Me}from"./N6g2mK6h.js";import{a as wl,b as $e,_ as ue}from"./Be2iH8Rx.js";import{a as ce,_ as pe,b as me}from"./Crp9aCmO.js";import{d as fe,j as ve,r as v,m as _e,V as we,o as R,c as O,h as l,f as t,g as e,p as Q,w as n,v as Ce,x as j,F as Y,z as w,e as F,K as J,q as be,s as ye,A as Pe,y as Tl}from"./RPcYXXev.js";import{f as L,_ as xe,a as Ee}from"./CZ9EiQCe.js";import{_ as Ie,a as gl,b as Ol}from"./3snQ80t5.js";import{_ as Re}from"./C1sp2X5w.js";import{_ as Dl}from"./D923ZLaS.js";import{b as Vl,a as Nl,_ as Sl}from"./Dw6iTx8h.js";import{L as he,u as P}from"./BqkbertX.js";const Al=be(xe),Pl={class:"vl-parent"},Ml={class:"flex flex-row"},$l={class:"basis-2/3 border-[1px] border-slate-600 border-l-0 border-b-0 border-t-0 pb-3"},kl=l("div",{class:"w-full px-3 py-1 bg-slate-400"}," Lookup ",-1),Ul={class:"flex flex-col space-y-2 px-3 pr-7"},Ll={class:"flex justify-end"},Yl={key:0,class:"min-w-[160px]"},Bl={class:"px-4 py-3.5"},jl={key:1,class:"px-4 py-3.5"},Hl={key:1,class:"flex justify-center text-center w-[53px]"},ql=l("div",null,null,-1),Gl={class:"basis-1/3"},Wl=l("div",{class:"w-full px-3 py-1 bg-slate-400"}," Complaints ",-1),Fl={class:"flex mt-11 px-3 pl-7"},Jl={class:""},zl={key:0,class:"min-w-[160px]"},Kl={class:"px-4 py-3.5"},Zl={key:1,class:"px-4 py-3.5"},Xl=l("div",null,null,-1),Ql={class:"flex flex-row"},et={class:"basis-2/3 border-[1px] border-slate-600 border-l-0 border-b-0 border-t-0"},lt=l("div",{class:"w-full px-3 py-1 bg-slate-400"}," Investigation ",-1),tt={class:"flex flex-col space-y-2 px-3 pr-7 py-3"},st={class:"flex flex-row space-x-2"},ot={class:"min-w-[100px]"},at={class:"pl-2"},nt={class:"min-w-[150px]"},it={class:"min-w-[150px]"},dt={class:"flex-1"},rt={class:"flex flex-row space-x-2"},ut={class:"flex-1"},ct={class:"min-w-[150px]"},pt={class:"w-full"},mt={class:"w-full"},ft={class:"flex justify-between pt-4"},vt={class:"flex flex-row gap-5 p-2 border-[1px] border-slate-200"},_t={class:"flex flex-row gap-2"},bt=l("div",{class:"flex items-center font-medium"}," Closed By ",-1),yt={class:"flex items-center min-w-[200px]"},xt={class:"w-full"},Et={class:"flex flex-row gap-2"},It=l("div",{class:"flex items-center font-medium"}," Closed Date ",-1),Rt={class:"flex items-center min-w-[200px]"},ht={class:"w-full"},Ct={class:"basis-1/3 flex flex-col"},wt=l("div",{class:"w-full px-3 py-1 bg-slate-400"}," CAPAS ",-1),Tt={class:"flex flex-col p-3 pl-7 space-y-2"},gt={class:""},Ot={key:0,class:"min-w-[160px]"},Dt={class:"px-4 py-3.5"},Vt={key:1,class:"px-4 py-3.5"},Nt=l("div",null,null,-1),St={class:"flex flex-row space-x-2"},At={class:"w-full"},Pt={class:"w-full"},Mt={class:"flex justify-between px-3 py-2"},$t={class:"basis-2/3"},kt={class:"flex flex-row space-x-10"},Ut={class:"min-w-[150px]"},Lt={class:"min-w-[100px]"},Yt={class:"min-w-[150px]"},Bt={class:"min-w-[150px]"},jt={class:"basis-1/3 flex justify-end"},Ht={class:"min-w-[150px]"},qt=fe({__name:"Detail",props:{selectedInvestigation:{type:[Number,String,null],required:!0}},emits:["close","link"],setup(ee,{emit:le}){const K=le,D=ee;ve();const H=v(!1),m=_e({uniqueID:null,PRODLLINE:null,DIAGDATE:null,DESCRIPTION:null,PROBELMDESC:null,DIAGBY:null,PREVENTPROB:null,PROBLEMDIAG:null,Status:null,IMPLEMENTBY:null,IMPLEMENTDATE:null}),s=v({defaultColumns:[{key:"uniqueID",label:"#",filterable:!0},{key:"PRODLINE",label:"Product Line",filterable:!0,filterOptions:[]},{key:"DIAGDATE",label:"Date",filterable:!0},{key:"DESCRIPTION",label:"Description",filterable:!0},{key:"Status",label:"Status"}],investigations:[],selectedInvestigation:null,isLoading:!1}),V=v({defaultColumns:[{key:"COMPLAINTDATE",label:"Date",filterable:!0},{key:"SERIALNO",label:"Serial",filterable:!0},{key:"COMPLAINTNUMBER",label:"Complaint#",filterable:!0},{key:"Shipdate",label:"Ship Date",filterable:!0}],complaints:[],selectedComplaint:null,isLoading:!1});v({defaultColumns:[{key:"serial",label:"Serial"}],serials:[],selectedSerial:null,isLoading:!1}),v({defaultColumns:[{key:"orderdate",label:"Date"},{key:"invoicenumber",label:"Invoice#"},{key:"terms",label:"Terms"}],invoices:[],selectedInvoice:null,isLoading:!1}),v({defaultColumns:[{key:"REPAIRDATE",label:"Date"},{key:"REPAIRDESC",label:"Type"},{key:"REPAIRSBY",label:"By"}],serviceReports:[],selectedServiceReport:null,isLoading:!1});const B=v({COMPLAINTNUMBER:null,COMPLAINTDATE:null,RECBY:null,RECBYOptions:[],SERIALNO:null,COMPLAINT:null,PRODUCTDESC:null});v({reason:null,failure:null,reasonOptions:[]}),v({isServiceReportModalOpen:!1,isInventoryTransactionModalOpen:!1,isInvoiceModalOpen:!1,isInvoiceListModalOpen:!1}),v(null);const U=v(new Date),Z=v([{value:"Open",label:"Open"},{value:"Closed",label:"Closed"}]),_=v("open"),T=v({uniqueID:null,PRODLINE:null,Status:!0,DIAGDATE:null,DESCRIPTION:null}),f=async()=>{H.value=!0,await k()},k=async()=>{H.value=!0,await E(),H.value=!1},E=async()=>{await P("/api/engineering/investigations",{method:"GET",params:{...T.value},onResponse({response:h}){h.status===200&&(s.value.investigations=h._data.body)}})},o=async(h,y)=>{T.value.hasOwnProperty(y)?T.value[y]=h:console.error(`Filter does not have property: ${y}`),await E()},d=async h=>{s.value.selectedInvestigation={...h,class:""},s.value.investigations.forEach(y=>{y.uniqueID===h.uniqueID?y.class="bg-gray-200":delete y.class})},c=()=>{var h;K("link",(h=s.value.selectedInvestigation)==null?void 0:h.uniqueID),K("close")},N=h=>[];async function p(h){K("close")}return we(()=>T.value.Status,()=>{E()}),D.selectedInvestigation?f():k(),(h,y)=>{const X=Me,M=wl,G=$e,a=ce,b=ue,q=ye,ie=Al,de=Ee,ae=pe,se=Re,re=Ie,ne=me;return R(),O(Y,null,[l("div",Pl,[t(e(he),{active:e(H),"onUpdate:active":y[0]||(y[0]=u=>Q(H)?H.value=u:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),t(ne,{validate:N,"validate-on":["submit"],state:e(m),onSubmit:p},{default:n(()=>[l("div",Ml,[l("div",$l,[kl,l("div",Ul,[l("div",Ll,[t(X,{modelValue:e(T).Status,"onUpdate:modelValue":y[1]||(y[1]=u=>e(T).Status=u),label:"Show Open Only",class:"pt-4"},null,8,["modelValue"])]),t(G,{rows:e(s).investigations,columns:e(s).defaultColumns,class:"w-full",ui:{wrapper:"overflow-auto h-60 border-2 border-gray-300 dark:border-gray-700 bg-white dark:text-gray dark:bg-[#111827]",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},onSelect:d,onDblclick:c},Ce({"empty-state":n(()=>[ql]),_:2},[j(e(s).defaultColumns,u=>({name:`${u.key}-header`,fn:n(()=>[u.kind!=="actions"?(R(),O(Y,{key:0},[u.key==="PRODLINE"?(R(),O("div",Yl,[l("div",Bl,[t(M,{onHandleInputChange:o,label:u.label,sortable:u.sortable,"sort-key":u.key,filterable:u.filterable,"filter-key":u.key},null,8,["label","sortable","sort-key","filterable","filter-key"])])])):(R(),O("div",jl,[t(M,{onHandleInputChange:o,label:u.label,sortable:u.sortable,"sort-key":u.key,filterable:u.filterable,"filter-key":u.key},null,8,["label","sortable","sort-key","filterable","filter-key"])]))],64)):(R(),O("div",Hl,w(u.label),1))])}))]),1032,["rows","columns"])])]),l("div",Gl,[Wl,l("div",Fl,[l("div",Jl,[t(G,{rows:e(V).complaints,columns:e(V).defaultColumns,class:"w-full",ui:{wrapper:"overflow-auto h-60 border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{base:"h-[31px]",padding:"py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}},Ce({"empty-state":n(()=>[Xl]),_:2},[j(e(V).defaultColumns,u=>({name:`${u.key}-header`,fn:n(()=>[u.key==="Shipdate"?(R(),O("div",zl,[l("div",Kl,[t(M,{onHandleInputChange:o,label:u.label,sortable:u.sortable,"sort-key":u.key,filterable:u.filterable,"filter-key":u.key},null,8,["label","sortable","sort-key","filterable","filter-key"])])])):(R(),O("div",Zl,[t(M,{onHandleInputChange:o,label:u.label,sortable:u.sortable,"sort-key":u.key,filterable:u.filterable,"filter-key":u.key},null,8,["label","sortable","sort-key","filterable","filter-key"])]))])}))]),1032,["rows","columns"])])])])]),l("div",Ql,[l("div",et,[lt,l("div",tt,[l("div",st,[l("div",ot,[t(a,{label:"Number"},{default:n(()=>[l("div",at,w(e(m).uniqueID),1)]),_:1})]),l("div",nt,[t(a,{label:"Product Line"},{default:n(()=>[t(b,{modelValue:e(m).PRODLLINE,"onUpdate:modelValue":y[2]||(y[2]=u=>e(m).PRODLLINE=u),options:[e(m).PRODLLINE]},null,8,["modelValue","options"])]),_:1})]),l("div",it,[t(a,{label:"Date"},{default:n(()=>[t(de,{popper:{placement:"bottom-start"}},{panel:n(({close:u})=>[t(ie,{modelValue:e(m).DIAGDATE,"onUpdate:modelValue":y[3]||(y[3]=te=>e(m).DIAGDATE=te),"is-required":"",onClose:u},null,8,["modelValue","onClose"])]),default:n(()=>[t(q,{icon:"i-heroicons-calendar-days-20-solid",label:e(m).DIAGDATE&&e(L)(e(m).DIAGDATE,"MM/dd/yyyy HH:mm:ss"),variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""},null,8,["label"])]),_:1})]),_:1})]),l("div",dt,[t(a,{label:"Description"},{default:n(()=>[t(ae,{modelValue:e(m).DESCRIPTION,"onUpdate:modelValue":y[4]||(y[4]=u=>e(m).DESCRIPTION=u)},null,8,["modelValue"])]),_:1})])]),l("div",rt,[l("div",ut,[t(a,{label:"Define Investigations?"},{default:n(()=>[t(ae,{modelValue:e(m).PROBELMDESC,"onUpdate:modelValue":y[5]||(y[5]=u=>e(m).PROBELMDESC=u)},null,8,["modelValue"])]),_:1})]),l("div",ct,[t(a,{label:"Diagnosed By"},{default:n(()=>[t(b,{modelValue:e(m).DIAGBY,"onUpdate:modelValue":y[6]||(y[6]=u=>e(m).DIAGBY=u),options:[e(m).DIAGBY]},null,8,["modelValue","options"])]),_:1})])]),l("div",pt,[t(a,{label:"Investigation(Use the 5 Whys Method at a minium)"},{default:n(()=>[t(ae,{modelValue:e(m).PROBELMDESC,"onUpdate:modelValue":y[7]||(y[7]=u=>e(m).PROBELMDESC=u)},null,8,["modelValue"])]),_:1})]),l("div",mt,[t(a,{label:"Root Cause"},{default:n(()=>[t(se,{modelValue:e(m).PROBLEMDIAG,"onUpdate:modelValue":y[8]||(y[8]=u=>e(m).PROBLEMDIAG=u),rows:6},null,8,["modelValue"])]),_:1})]),l("div",ft,[l("div",vt,[(R(!0),O(Y,null,j(e(Z),u=>(R(),F(re,J({key:u.value,modelValue:e(_),"onUpdate:modelValue":y[9]||(y[9]=te=>Q(_)?_.value=te:null),ref_for:!0},u),null,16,["modelValue"]))),128))]),l("div",_t,[bt,l("div",yt,[l("div",xt,[t(b,{modelValue:e(m).IMPLEMENTBY,"onUpdate:modelValue":y[10]||(y[10]=u=>e(m).IMPLEMENTBY=u)},null,8,["modelValue"])])])]),l("div",Et,[It,l("div",Rt,[l("div",ht,[t(de,{popper:{placement:"bottom-start"}},{panel:n(({close:u})=>[t(ie,{modelValue:e(U),"onUpdate:modelValue":y[11]||(y[11]=te=>Q(U)?U.value=te:null),"is-required":"",onClose:u},null,8,["modelValue","onClose"])]),default:n(()=>[t(q,{icon:"i-heroicons-calendar-days-20-solid",label:e(B).COMPLAINTDATE&&e(L)(e(B).COMPLAINTDATE,"MM/dd/yyyy"),variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""},null,8,["label"])]),_:1})])])])])])]),l("div",Ct,[wt,l("div",Tt,[l("div",gt,[t(G,{rows:e(V).complaints,columns:e(V).defaultColumns,class:"w-full",ui:{wrapper:"overflow-auto h-[370px] border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{base:"h-[31px]",padding:"py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}},Ce({"empty-state":n(()=>[Nt]),_:2},[j(e(V).defaultColumns,u=>({name:`${u.key}-header`,fn:n(()=>[u.key==="Shipdate"?(R(),O("div",Ot,[l("div",Dt,[t(M,{onHandleInputChange:o,label:u.label,sortable:u.sortable,"sort-key":u.key,filterable:u.filterable,"filter-key":u.key},null,8,["label","sortable","sort-key","filterable","filter-key"])])])):(R(),O("div",Vt,[t(M,{onHandleInputChange:o,label:u.label,sortable:u.sortable,"sort-key":u.key,filterable:u.filterable,"filter-key":u.key},null,8,["label","sortable","sort-key","filterable","filter-key"])]))])}))]),1032,["rows","columns"])]),l("div",St,[l("div",At,[t(q,{label:"Add CAPA",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})]),l("div",Pt,[t(q,{label:"Remove CAPA",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})])])])])]),l("div",Mt,[l("div",$t,[l("div",kt,[l("div",Ut,[t(q,{icon:"i-heroicons-eye",label:"Preview Report",variant:"outline",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})]),l("div",Lt,[t(q,{icon:"i-heroicons-plus",label:"Add",color:"green",variant:"outline",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})]),l("div",Yt,[t(q,{icon:"i-heroicons-pencil",label:"Modify",variant:"outline",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})]),l("div",Bt,[t(q,{icon:"i-f7-rays",label:"Clear",color:"red",variant:"outline",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})])])]),l("div",jt,[l("div",Ht,[t(q,{icon:"i-heroicons-cursor-arrow-ripple",label:"Select",variant:"outline",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})])])])]),_:1},8,["state"])],64)}}}),Gt=be(xe),Wt={class:"vl-parent"},Ft={class:"flex flex-col"},Jt=l("div",{class:"flex justify-between px-4 py-2 gmsTealTitlebar"},[l("h2",{class:"flex items-center"},"Patient Information")],-1),zt={class:"px-4 py-1 flex flex-col space-y-1"},Kt={class:"flex flex-row space-x-2"},Zt={class:"basis-5/12"},Xt={class:"basis-7/12 flex flex-row space-x-2"},Qt={class:"basis-1/3 w-full"},es={class:"basis-1/3"},ls={class:"basis-1/3"},ts={class:"flex flex-row space-x-2"},ss={class:"basis-5/12"},os={class:"basis-7/12 flex flex-row space-x-2"},as={class:"basis-1/3"},ns={class:"basis-1/3"},is=l("div",{class:"basis-1/3"},null,-1),ds={class:"flex flex-row space-x-2"},rs={class:"basis-5/12"},us={class:"basis-7/12 flex flex-row space-x-2"},cs={class:"basis-6/12 w-full"},ps={class:"basis-2/12 w-full"},ms={class:"basis-1/3"},fs={class:"w-full"},vs={class:"px-4 pt-2 border-[1px] border-slate-600 border-l-0 border-b-0 border-r-0 mt-1 flex flex-col space-y-2"},_s={class:"flex flex-row space-x-4"},bs={class:"basis-5/12 h-[186px]"},ys={class:"border-[1px] border-slate-300 p-2 pt-1 h-full"},xs={class:"p-2"},Es={class:"flex flex-row space-x-5"},Is={class:"mt-1"},Rs={class:"basis-7/12"},hs={class:"border-[1px] border-slate-300 p-3 pt-1 pb-0"},Cs={class:"p-2 flex flex-row space-x-3"},ws={class:"basis-1/2"},Ts={class:"flex flex-row space-x-5"},gs={class:"mt-1"},Os={class:"mt-1"},Ds={class:"basis-1/2 mt-1"},Vs={class:"flex flex-row space-x-4"},Ns={class:"basis-5/12"},Ss={class:"border-[1px] border-slate-300 p-3 pt-1 pb-0"},As={class:"p-2"},Ps={class:"flex flex-row space-x-5"},Ms={class:"mt-1"},$s={class:"basis-7/12 h-[126px]"},ks={class:"border-[1px] border-slate-300 p-3 pt-1 pb-0 h-full"},Us={class:"p-2 flex flex-row"},Ls={class:"basis-1/2 space-y-2"},Ys={class:"flex items-end"},Bs={class:"border-[1px] border-slate-300 p-3 pb-0"},js={class:"p-2"},Hs=l("p",{class:"font-semibold"},"Device related death, serious injury, or malfunctions must be reported to FDA within 30 calendar days from becoming aware of the event. Notify Grimm Scientifics' President within 1 hour of any patient injury.",-1),qs={class:"flex justify-between mt-2"},Gs={class:"flex flex-row space-x-4"},Ws={class:"min-w-[350px]"},Fs={class:"min-w-[350px]"},Js={class:"flex flex-row space-x-4"},zs={class:"min-w-[350px]"},Ks={class:"min-w-[350px]"},Zs={class:"mt-2 px-4 flex flex-row-reverse"},Xs={class:"mr-4"},Qs=fe({__name:"InjuryReport",props:{selectedComplaint:{type:[Number,String,null]}},emits:["close","save"],setup(ee,{emit:le}){const K=le,D=ee,H=ve(),m=v(!1),s=_e({PERSONREPORTING:null,DATEREPORTED:null,TIMEREPORTED:null,INJUREDNAME:null,ADDRESS:null,DATEINJURED:null,CITY:null,ZIP:null,HOMEPHONE:null,WORKPHONE:null,INJURYDESC:null,PATIENTTREATED:null,HOSPNAME:null,PHYSTREAT:null,PHYSNAME:null,PHYSCOMMENTS:null,PHYSNO:null,LASTVISIT:null,UNDERCARE:null,INJURYNATURE:null,DEATH:null,REPORTBYDATE:null,REVIEWBYDATE:null,REPORTBY:null,REVIEWBY:null,STATE:null}),V=v([{value:0,label:"No"},{value:1,label:"Yes"}]),B=v([{value:0,label:"Minor Injury(Blister, Small Cut, Etc.)"},{value:1,label:"Serious Injury(Loss of Limb, Sight, Etc.)"},{value:2,label:"Death"}]),U=v([]),Z=v(["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]),_=async()=>{m.value=!0,await P(`/api/service/orders/${D.selectedComplaint}`,{method:"GET",onResponse({response:E}){for(const o in E._data.body)E._data.body[o]!==void 0&&(s[o]=E._data.body[o])}}),await T()},T=async()=>{m.value=!0,await P("/api/tbl/tblEmployee?ACTIVE=1",{method:"GET",onResponse({response:E}){E.status===200&&(U.value=E._data.body.map(o=>`${o.fname||""} ${o.lname||""}`),U.value.unshift(null))}}),m.value=!1},f=E=>[],k=async()=>{await P(`/api/service/orders/${D.selectedComplaint}`,{method:"PUT",body:{...s},onResponse({response:E}){E.status===200&&H.add({title:"Success",description:E._data.message,icon:"i-heroicons-check-circle",color:"green"})}}),K("close")};return D.selectedComplaint?_():T(),(E,o)=>{const d=pe,c=ce,N=ye,p=Gt,h=Ee,y=ue,X=Re,M=Ie,G=me;return R(),O(Y,null,[l("div",Wt,[t(e(he),{active:e(m),"onUpdate:active":o[0]||(o[0]=a=>Q(m)?m.value=a:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),t(G,{validate:f,"validate-on":["submit"],state:e(s)},{default:n(()=>[l("div",Ft,[Jt,l("div",zt,[l("div",Kt,[l("div",Zt,[t(c,{label:"Person Reporting"},{default:n(()=>[t(d,{modelValue:e(s).PERSONREPORTING,"onUpdate:modelValue":o[1]||(o[1]=a=>e(s).PERSONREPORTING=a)},null,8,["modelValue"])]),_:1})]),l("div",Xt,[l("div",Qt,[t(c,{label:"Date Reported"},{default:n(()=>[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).DATEREPORTED,"onUpdate:modelValue":o[2]||(o[2]=b=>e(s).DATEREPORTED=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).DATEREPORTED&&e(L)(e(s).DATEREPORTED,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})]),_:1})]),l("div",es,[t(c,{label:"Time Reported"},{default:n(()=>[t(d,{modelValue:e(s).TIMEREPORTED,"onUpdate:modelValue":o[3]||(o[3]=a=>e(s).TIMEREPORTED=a)},null,8,["modelValue"])]),_:1})]),l("div",ls,[t(c,{label:"Date of Injury"},{default:n(()=>[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).DATEINJURED,"onUpdate:modelValue":o[4]||(o[4]=b=>e(s).DATEINJURED=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).DATEINJURED&&e(L)(e(s).DATEINJURED,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})]),_:1})])])]),l("div",ts,[l("div",ss,[t(c,{label:"Injured Patient's Name"},{default:n(()=>[t(d,{modelValue:e(s).INJUREDNAME,"onUpdate:modelValue":o[5]||(o[5]=a=>e(s).INJUREDNAME=a)},null,8,["modelValue"])]),_:1})]),l("div",os,[l("div",as,[t(c,{label:"Home Phone"},{default:n(()=>[t(d,{modelValue:e(s).HOMEPHONE,"onUpdate:modelValue":o[6]||(o[6]=a=>e(s).HOMEPHONE=a)},null,8,["modelValue"])]),_:1})]),l("div",ns,[t(c,{label:"Work Phone"},{default:n(()=>[t(d,{modelValue:e(s).WORKPHONE,"onUpdate:modelValue":o[7]||(o[7]=a=>e(s).WORKPHONE=a)},null,8,["modelValue"])]),_:1})]),is])]),l("div",ds,[l("div",rs,[t(c,{label:"Address"},{default:n(()=>[t(d,{modelValue:e(s).ADDRESS,"onUpdate:modelValue":o[8]||(o[8]=a=>e(s).ADDRESS=a)},null,8,["modelValue"])]),_:1})]),l("div",us,[l("div",cs,[t(c,{label:"City"},{default:n(()=>[t(d,{modelValue:e(s).CITY,"onUpdate:modelValue":o[9]||(o[9]=a=>e(s).CITY=a)},null,8,["modelValue"])]),_:1})]),l("div",ps,[t(c,{label:"State"},{default:n(()=>[t(y,{modelValue:e(s).STATE,"onUpdate:modelValue":o[10]||(o[10]=a=>e(s).STATE=a),options:e(Z)},null,8,["modelValue","options"])]),_:1})]),l("div",ms,[t(c,{label:"Zip"},{default:n(()=>[t(d,{modelValue:e(s).ZIP,"onUpdate:modelValue":o[11]||(o[11]=a=>e(s).ZIP=a)},null,8,["modelValue"])]),_:1})])])]),l("div",fs,[t(c,{label:"Patient's Description of Injury"},{default:n(()=>[t(X,{rows:3,modelValue:e(s).INJURYDESC,"onUpdate:modelValue":o[12]||(o[12]=a=>e(s).INJURYDESC=a)},null,8,["modelValue"])]),_:1})])]),l("div",vs,[l("div",_s,[l("div",bs,[l("div",ys,[t(c,{label:"1. Was patient treated at hospital?"},{default:n(()=>[l("div",xs,[l("div",Es,[(R(!0),O(Y,null,j(e(V),a=>(R(),F(M,J({key:a.value,modelValue:e(s).PATIENTTREATED,"onUpdate:modelValue":o[13]||(o[13]=b=>e(s).PATIENTTREATED=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",Is,[t(c,{label:"Name of Hospital"},{default:n(()=>[t(d,{modelValue:e(s).HOSPNAME,"onUpdate:modelValue":o[14]||(o[14]=a=>e(s).HOSPNAME=a)},null,8,["modelValue"])]),_:1})])])]),_:1})])]),l("div",Rs,[l("div",hs,[t(c,{label:"2. Did physician trean injured patient?"},{default:n(()=>[l("div",Cs,[l("div",ws,[l("div",Ts,[(R(!0),O(Y,null,j(e(V),a=>(R(),F(M,J({key:a.value,modelValue:e(s).PHYSTREAT,"onUpdate:modelValue":o[15]||(o[15]=b=>e(s).PHYSTREAT=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",gs,[t(c,{label:"Physician"},{default:n(()=>[t(d,{modelValue:e(s).PHYSNAME,"onUpdate:modelValue":o[16]||(o[16]=a=>e(s).PHYSNAME=a)},null,8,["modelValue"])]),_:1})]),l("div",Os,[t(c,{label:"Physician Phone"},{default:n(()=>[t(d,{modelValue:e(s).PHYSNO,"onUpdate:modelValue":o[17]||(o[17]=a=>e(s).PHYSNO=a)},null,8,["modelValue"])]),_:1})])]),l("div",Ds,[t(c,{label:"Physician"},{default:n(()=>[t(X,{rows:5,modelValue:e(s).PHYSCOMMENTS,"onUpdate:modelValue":o[18]||(o[18]=a=>e(s).PHYSCOMMENTS=a)},null,8,["modelValue"])]),_:1})])])]),_:1})])])]),l("div",Vs,[l("div",Ns,[l("div",Ss,[t(c,{label:"3. Is patient still under physician's care?"},{default:n(()=>[l("div",As,[l("div",Ps,[(R(!0),O(Y,null,j(e(V),a=>(R(),F(M,J({key:a.value,modelValue:e(s).UNDERCARE,"onUpdate:modelValue":o[19]||(o[19]=b=>e(s).UNDERCARE=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",Ms,[t(c,{label:"Date of Last Visit"},{default:n(()=>[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).LASTVISIT,"onUpdate:modelValue":o[20]||(o[20]=b=>e(s).LASTVISIT=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).LASTVISIT&&e(L)(e(s).LASTVISIT,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-[250px]"}},null,8,["label"])]),_:1})]),_:1})])])]),_:1})])]),l("div",$s,[l("div",ks,[t(c,{label:"4. Indicate Nature of Injury"},{default:n(()=>[l("div",Us,[l("div",Ls,[(R(!0),O(Y,null,j(e(B),a=>(R(),F(M,J({key:a.value,modelValue:e(s).INJURYNATURE,"onUpdate:modelValue":o[21]||(o[21]=b=>e(s).INJURYNATURE=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",Ys,[t(h,{popper:{placement:"bottom-start"},ui:{trigger:"ml-[-370px] pt-[50px]"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).DEATH,"onUpdate:modelValue":o[22]||(o[22]=b=>e(s).DEATH=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).DEATH&&e(L)(e(s).DEATH,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-[250px]"}},null,8,["label"])]),_:1})])])]),_:1})])])]),l("div",Bs,[t(c,{label:"IMPORTANT!"},{default:n(()=>[l("div",js,[Hs,l("div",qs,[t(c,{label:"Received By"},{default:n(()=>[l("div",Gs,[l("div",Ws,[t(y,{modelValue:e(s).REPORTBY,"onUpdate:modelValue":o[23]||(o[23]=a=>e(s).REPORTBY=a),options:e(U)},null,8,["modelValue","options"])]),l("div",Fs,[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).REPORTBYDATE,"onUpdate:modelValue":o[24]||(o[24]=b=>e(s).REPORTBYDATE=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).REPORTBYDATE&&e(L)(e(s).REPORTBYDATE,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})])])]),_:1}),t(c,{label:"Reviewed By"},{default:n(()=>[l("div",Js,[l("div",zs,[t(y,{modelValue:e(s).REVIEWBY,"onUpdate:modelValue":o[25]||(o[25]=a=>e(s).REVIEWBY=a),options:e(U)},null,8,["modelValue","options"])]),l("div",Ks,[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).REVIEWBYDATE,"onUpdate:modelValue":o[26]||(o[26]=b=>e(s).REVIEWBYDATE=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).REVIEWBYDATE&&e(L)(e(s).REVIEWBYDATE,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})])])]),_:1})])])]),_:1})])]),l("div",Zs,[l("div",null,[t(N,{icon:"i-f7-rays",label:"Clear From",color:"red",variant:"outline",ui:{base:"min-w-[200px]",truncate:"flex justify-center w-full"},truncate:""})]),l("div",Xs,[t(N,{icon:"i-heroicons-document-text-20-solid",label:"Save",color:"green",variant:"outline",ui:{base:"min-w-[200px]",truncate:"flex justify-center w-full"},truncate:"",onClick:k})])])])]),_:1},8,["state"])],64)}}}),eo=be(xe),lo={class:"vl-parent"},to={class:"flex flex-col"},so=l("div",{class:"flex justify-between px-4 py-2 gmsTealTitlebar"},[l("h2",{class:"flex items-center"},"Patient Information")],-1),oo={class:"px-4 py-1 flex flex-col space-y-1"},ao={class:"flex flex-row space-x-2"},no={class:"basis-5/12"},io={class:"basis-7/12 flex flex-row space-x-2"},ro={class:"basis-1/3 w-full"},uo={class:"basis-1/3"},co={class:"basis-1/3"},po={class:"flex flex-row space-x-2"},mo={class:"basis-5/12"},fo={class:"basis-7/12 flex flex-row space-x-2"},vo={class:"basis-1/3"},_o={class:"basis-1/3"},bo=l("div",{class:"basis-1/3"},null,-1),yo={class:"flex flex-row space-x-2"},xo={class:"basis-5/12"},Eo={class:"basis-7/12 flex flex-row space-x-2"},Io={class:"basis-6/12 w-full"},Ro={class:"basis-2/12 w-full"},ho={class:"basis-1/3"},Co={class:"w-full"},wo={class:"px-4 pt-2 border-[1px] border-slate-600 border-l-0 border-b-0 border-r-0 mt-1 flex flex-col space-y-2"},To={class:"flex flex-row space-x-4"},go={class:"basis-5/12 h-[186px]"},Oo={class:"border-[1px] border-slate-300 p-2 pt-1 h-full"},Do={class:"p-2"},Vo={class:"flex flex-row space-x-5"},No={class:"mt-1"},So={class:"basis-7/12"},Ao={class:"border-[1px] border-slate-300 p-3 pt-1 pb-0"},Po={class:"p-2 flex flex-row space-x-3"},Mo={class:"basis-1/2"},$o={class:"flex flex-row space-x-5"},ko={class:"mt-1"},Uo={class:"mt-1"},Lo={class:"basis-1/2 mt-1"},Yo={class:"flex flex-row space-x-4"},Bo={class:"basis-5/12"},jo={class:"border-[1px] border-slate-300 p-3 pt-1 pb-0"},Ho={class:"p-2"},qo={class:"flex flex-row space-x-5"},Go={class:"mt-1"},Wo={class:"basis-7/12 h-[126px]"},Fo={class:"border-[1px] border-slate-300 p-3 pt-1 pb-0 h-full"},Jo={class:"p-2 flex flex-row"},zo={class:"basis-1/2 space-y-2"},Ko={class:"flex items-end"},Zo={class:"border-[1px] border-slate-300 p-3 pb-0"},Xo={class:"p-2"},Qo=l("p",{class:"font-semibold"},"Device related death, serious injury, or malfunctions must be reported to FDA within 30 calendar days from becoming aware of the event. Notify Grimm Scientifics' President within 1 hour of any patient injury.",-1),ea={class:"flex justify-between mt-2"},la={class:"flex flex-row space-x-4"},ta={class:"min-w-[350px]"},sa={class:"min-w-[350px]"},oa={class:"flex flex-row space-x-4"},aa={class:"min-w-[350px]"},na={class:"min-w-[350px]"},ia={class:"mt-2 px-4 flex flex-row-reverse"},da={class:"mr-4"},ra=fe({__name:"InjuryReport2",props:{selectedComplaint:{type:[Number,String,null]}},emits:["close","save"],setup(ee,{emit:le}){const K=le,D=ee,H=ve(),m=v(!1),s=_e({PERSONREPORTING2:null,DATEREPORTED2:null,TIMEREPORTED2:null,INJUREDNAME2:null,ADDRESS2:null,DATEINJURED2:null,CITY2:null,ZIP2:null,HOMEPHONE2:null,WORKPHONE2:null,INJURYDESC2:null,PATIENTTREATED2:null,HOSPNAME2:null,PHYSTREAT2:null,PHYSNAME2:null,PHYSCOMMENTS2:null,PHYSNO2:null,LASTVISIT2:null,UNDERCARE2:null,INJURYNATURE2:null,DEATH2:null,REPORTBYDATE2:null,REVIEWBYDATE2:null,REPORTBY2:null,REVIEWBY2:null,STATE2:null}),V=v([{value:0,label:"No"},{value:1,label:"Yes"}]),B=v([{value:0,label:"Minor Injury(Blister, Small Cut, Etc.)"},{value:1,label:"Serious Injury(Loss of Limb, Sight, Etc.)"},{value:2,label:"Death"}]),U=v([]),Z=v(["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]),_=async()=>{m.value=!0,await P(`/api/service/orders/${D.selectedComplaint}`,{method:"GET",onResponse({response:E}){for(const o in E._data.body)E._data.body[o]!==void 0&&(s[o]=E._data.body[o])}}),await T()},T=async()=>{m.value=!0,await P("/api/tbl/tblEmployee?ACTIVE=1",{method:"GET",onResponse({response:E}){E.status===200&&(U.value=E._data.body.map(o=>`${o.fname||""} ${o.lname||""}`),U.value.unshift(null))}}),m.value=!1},f=E=>[],k=async()=>{await P(`/api/service/orders/${D.selectedComplaint}`,{method:"PUT",body:{...s},onResponse({response:E}){E.status===200&&H.add({title:"Success",description:E._data.message,icon:"i-heroicons-check-circle",color:"green"})}}),K("close")};return D.selectedComplaint?_():T(),(E,o)=>{const d=pe,c=ce,N=ye,p=eo,h=Ee,y=ue,X=Re,M=Ie,G=me;return R(),O(Y,null,[l("div",lo,[t(e(he),{active:e(m),"onUpdate:active":o[0]||(o[0]=a=>Q(m)?m.value=a:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),t(G,{validate:f,"validate-on":["submit"],state:e(s)},{default:n(()=>[l("div",to,[so,l("div",oo,[l("div",ao,[l("div",no,[t(c,{label:"Person Reporting"},{default:n(()=>[t(d,{modelValue:e(s).PERSONREPORTING2,"onUpdate:modelValue":o[1]||(o[1]=a=>e(s).PERSONREPORTING2=a)},null,8,["modelValue"])]),_:1})]),l("div",io,[l("div",ro,[t(c,{label:"Date Reported"},{default:n(()=>[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).DATEREPORTED2,"onUpdate:modelValue":o[2]||(o[2]=b=>e(s).DATEREPORTED2=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).DATEREPORTED2&&e(L)(e(s).DATEREPORTED2,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})]),_:1})]),l("div",uo,[t(c,{label:"Time Reported"},{default:n(()=>[t(d,{modelValue:e(s).TIMEREPORTED2,"onUpdate:modelValue":o[3]||(o[3]=a=>e(s).TIMEREPORTED2=a)},null,8,["modelValue"])]),_:1})]),l("div",co,[t(c,{label:"Date of Injury"},{default:n(()=>[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).DATEINJURED2,"onUpdate:modelValue":o[4]||(o[4]=b=>e(s).DATEINJURED2=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).DATEINJURED2&&e(L)(e(s).DATEINJURED2,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})]),_:1})])])]),l("div",po,[l("div",mo,[t(c,{label:"Injured Patient's Name"},{default:n(()=>[t(d,{modelValue:e(s).INJUREDNAME2,"onUpdate:modelValue":o[5]||(o[5]=a=>e(s).INJUREDNAME2=a)},null,8,["modelValue"])]),_:1})]),l("div",fo,[l("div",vo,[t(c,{label:"Home Phone"},{default:n(()=>[t(d,{modelValue:e(s).HOMEPHONE2,"onUpdate:modelValue":o[6]||(o[6]=a=>e(s).HOMEPHONE2=a)},null,8,["modelValue"])]),_:1})]),l("div",_o,[t(c,{label:"Work Phone"},{default:n(()=>[t(d,{modelValue:e(s).WORKPHONE2,"onUpdate:modelValue":o[7]||(o[7]=a=>e(s).WORKPHONE2=a)},null,8,["modelValue"])]),_:1})]),bo])]),l("div",yo,[l("div",xo,[t(c,{label:"Address"},{default:n(()=>[t(d,{modelValue:e(s).ADDRESS2,"onUpdate:modelValue":o[8]||(o[8]=a=>e(s).ADDRESS2=a)},null,8,["modelValue"])]),_:1})]),l("div",Eo,[l("div",Io,[t(c,{label:"City"},{default:n(()=>[t(d,{modelValue:e(s).CITY2,"onUpdate:modelValue":o[9]||(o[9]=a=>e(s).CITY2=a)},null,8,["modelValue"])]),_:1})]),l("div",Ro,[t(c,{label:"State"},{default:n(()=>[t(y,{modelValue:e(s).STATE2,"onUpdate:modelValue":o[10]||(o[10]=a=>e(s).STATE2=a),options:e(Z)},null,8,["modelValue","options"])]),_:1})]),l("div",ho,[t(c,{label:"Zip"},{default:n(()=>[t(d,{modelValue:e(s).ZIP2,"onUpdate:modelValue":o[11]||(o[11]=a=>e(s).ZIP2=a)},null,8,["modelValue"])]),_:1})])])]),l("div",Co,[t(c,{label:"Patient's Description of Injury"},{default:n(()=>[t(X,{rows:3,modelValue:e(s).INJURYDESC2,"onUpdate:modelValue":o[12]||(o[12]=a=>e(s).INJURYDESC2=a)},null,8,["modelValue"])]),_:1})])]),l("div",wo,[l("div",To,[l("div",go,[l("div",Oo,[t(c,{label:"1. Was patient treated at hospital?"},{default:n(()=>[l("div",Do,[l("div",Vo,[(R(!0),O(Y,null,j(e(V),a=>(R(),F(M,J({key:a.value,modelValue:e(s).PATIENTTREATED2,"onUpdate:modelValue":o[13]||(o[13]=b=>e(s).PATIENTTREATED2=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",No,[t(c,{label:"Name of Hospital"},{default:n(()=>[t(d,{modelValue:e(s).HOSPNAME2,"onUpdate:modelValue":o[14]||(o[14]=a=>e(s).HOSPNAME2=a)},null,8,["modelValue"])]),_:1})])])]),_:1})])]),l("div",So,[l("div",Ao,[t(c,{label:"2. Did physician trean injured patient?"},{default:n(()=>[l("div",Po,[l("div",Mo,[l("div",$o,[(R(!0),O(Y,null,j(e(V),a=>(R(),F(M,J({key:a.value,modelValue:e(s).PHYSTREAT2,"onUpdate:modelValue":o[15]||(o[15]=b=>e(s).PHYSTREAT2=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",ko,[t(c,{label:"Physician"},{default:n(()=>[t(d,{modelValue:e(s).PHYSNAME2,"onUpdate:modelValue":o[16]||(o[16]=a=>e(s).PHYSNAME2=a)},null,8,["modelValue"])]),_:1})]),l("div",Uo,[t(c,{label:"Physician Phone"},{default:n(()=>[t(d,{modelValue:e(s).PHYSNO2,"onUpdate:modelValue":o[17]||(o[17]=a=>e(s).PHYSNO2=a)},null,8,["modelValue"])]),_:1})])]),l("div",Lo,[t(c,{label:"Physician"},{default:n(()=>[t(X,{rows:5,modelValue:e(s).PHYSCOMMENTS2,"onUpdate:modelValue":o[18]||(o[18]=a=>e(s).PHYSCOMMENTS2=a)},null,8,["modelValue"])]),_:1})])])]),_:1})])])]),l("div",Yo,[l("div",Bo,[l("div",jo,[t(c,{label:"3. Is patient still under physician's care?"},{default:n(()=>[l("div",Ho,[l("div",qo,[(R(!0),O(Y,null,j(e(V),a=>(R(),F(M,J({key:a.value,modelValue:e(s).UNDERCARE2,"onUpdate:modelValue":o[19]||(o[19]=b=>e(s).UNDERCARE2=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",Go,[t(c,{label:"Date of Last Visit"},{default:n(()=>[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).LASTVISIT2,"onUpdate:modelValue":o[20]||(o[20]=b=>e(s).LASTVISIT2=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).LASTVISIT2&&e(L)(e(s).LASTVISIT2,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-[250px]"}},null,8,["label"])]),_:1})]),_:1})])])]),_:1})])]),l("div",Wo,[l("div",Fo,[t(c,{label:"4. Indicate Nature of Injury"},{default:n(()=>[l("div",Jo,[l("div",zo,[(R(!0),O(Y,null,j(e(B),a=>(R(),F(M,J({key:a.value,modelValue:e(s).INJURYNATURE2,"onUpdate:modelValue":o[21]||(o[21]=b=>e(s).INJURYNATURE2=b),ref_for:!0},a),null,16,["modelValue"]))),128))]),l("div",Ko,[t(h,{popper:{placement:"bottom-start"},ui:{trigger:"ml-[-370px] pt-[50px]"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).DEATH2,"onUpdate:modelValue":o[22]||(o[22]=b=>e(s).DEATH2=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).DEATH2&&e(L)(e(s).DEATH2,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-[250px]"}},null,8,["label"])]),_:1})])])]),_:1})])])]),l("div",Zo,[t(c,{label:"IMPORTANT!"},{default:n(()=>[l("div",Xo,[Qo,l("div",ea,[t(c,{label:"Received By"},{default:n(()=>[l("div",la,[l("div",ta,[t(y,{modelValue:e(s).REPORTBY2,"onUpdate:modelValue":o[23]||(o[23]=a=>e(s).REPORTBY2=a),options:e(U)},null,8,["modelValue","options"])]),l("div",sa,[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).REPORTBYDATE2,"onUpdate:modelValue":o[24]||(o[24]=b=>e(s).REPORTBYDATE2=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).REPORTBYDATE2&&e(L)(e(s).REPORTBYDATE2,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})])])]),_:1}),t(c,{label:"Reviewed By"},{default:n(()=>[l("div",oa,[l("div",aa,[t(y,{modelValue:e(s).REVIEWBY2,"onUpdate:modelValue":o[25]||(o[25]=a=>e(s).REVIEWBY2=a),options:e(U)},null,8,["modelValue","options"])]),l("div",na,[t(h,{popper:{placement:"bottom-start"}},{panel:n(({close:a})=>[t(p,{modelValue:e(s).REVIEWBYDATE2,"onUpdate:modelValue":o[26]||(o[26]=b=>e(s).REVIEWBYDATE2=b),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:n(()=>[t(N,{icon:"i-heroicons-calendar-days-20-solid",label:e(s).REVIEWBYDATE2&&e(L)(e(s).REVIEWBYDATE2,"dd/MM/yyyy"),variant:"outline",ui:{base:"w-full"}},null,8,["label"])]),_:1})])])]),_:1})])])]),_:1})])]),l("div",ia,[l("div",null,[t(N,{icon:"i-f7-rays",label:"Clear From",color:"red",variant:"outline",ui:{base:"min-w-[200px]",truncate:"flex justify-center w-full"},truncate:""})]),l("div",da,[t(N,{icon:"i-heroicons-document-text-20-solid",label:"Save",color:"green",variant:"outline",ui:{base:"min-w-[200px]",truncate:"flex justify-center w-full"},truncate:"",onClick:k})])])])]),_:1},8,["state"])],64)}}}),ua=be(xe),ca={class:"vl-parent"},pa=l("div",{class:"w-full px-3 py-1 bg-slate-400"}," Customer Information ",-1),ma={class:"!my-0 flex flex-row space-x-8 p-3"},fa={class:"basis-1/2"},va={class:"flex justify-between"},_a={class:"flex flex-row space-x-3"},ba={class:"basis-1/2"},ya=l("div",{class:"font-bold border-b-[1px] border-black"}," Shipping Information ",-1),xa={class:"flex flex-col mt-4 space-y-3"},Ea={class:"flex flex-row"},Ia={class:"basis-1/2"},Ra={class:"basis-1/2"},ha={class:"basis-1/2"},Ca=l("div",{class:"font-bold border-b-[1px] border-black"}," Billing Information ",-1),wa={class:"flex flex-col mt-4 space-y-3"},Ta=l("div",null,w(""),-1),ga={class:"basis-1/2"},Oa={class:"flex flex-row space-x-1"},Da={class:"basis-1/6"},Va=l("div",null,null,-1),Na={class:"basis-2/6"},Sa=l("div",null,null,-1),Aa={class:"basis-1/2"},Pa={class:"flex flex-col"},Ma=l("div",null,null,-1),$a={class:"flex flex-row space-x-1 mt-1"},ka={class:"basis-1/3 w-full"},Ua={class:"basis-1/3 w-full"},La={class:"basis-1/3 w-full"},Ya={class:"mt-2"},Ba=l("div",{class:"pl-3 bg-slate-400"}," Service Reports ",-1),ja={class:"flex flex-col p-3 bg-slate-200 space-x-4"},Ha={class:"flex flex-row"},qa={class:"basis-3/5 px-2"},Ga=l("div",null,null,-1),Wa={class:"flex justify-between mt-1"},Fa=l("div",{class:"italic flex items-center"}," Doubleclick to view ",-1),Ja={class:"basis-2/5 space-y-3 px-2"},za=l("div",null," This Warranty Cost: $0.00 ",-1),Ka=l("div",null," Total Serial Warranty: $2984.30 ",-1),Za=l("div",null," Ship Date: 4/1/2007 ",-1),Xa={class:"flex flex-row mt-2"},Qa={class:"basis-3/5 px-2"},en={class:"w-full"},ln={class:"basis-2/5 px-2"},tn={class:"w-full"},sn={class:"!my-0 flex flex-row"},on={class:"basis-1/2 border-[1px] border-slate-600 border-l-0 border-b-0 border-t-0"},an=l("div",{class:"w-full bg-slate-400 px-3 py-1"}," Service Order ",-1),nn={class:"flex flex-row px-3 py-2"},dn={class:"basis-5/12"},rn={class:"basis-4/12"},un={class:"flex flex-row"},cn=l("div",{class:"flex items-center w-[35px] font-medium"},"Date",-1),pn={class:"flex-1 px-4"},mn={class:"flex flex-row mt-3"},fn=l("div",{class:"flex items-center w-[35px] font-medium"},"By",-1),vn={class:"flex-1 px-4"},_n={class:"basis-3/12"},bn={class:"flex flex-row space-x-5"},yn={class:"mt-6 flex items-center"},xn={class:"px-3 py-0"},En={class:"px-3 py-0 mt-1"},In={class:"flex flex-row border border-gray rounded-md py-1"},Rn=l("div",{class:"basis-5/12 flex items-center ml-2"}," Death, Serious Injury, or Risk of Either? ",-1),hn={class:"flex flex-row space-x-5 items-center"},Cn={class:"basis-4/12 flex flex-row space-x-5 justify-center"},wn={class:"px-3 py-0 mt-1"},Tn={class:"flex flex-col border border-gray rounded-md px-2 py-1"},gn=l("span",{class:"text-sm font-semibold"},"Product Returned",-1),On={class:"flex flex-row space-x-3"},Dn={class:"basis-3/12"},Vn={class:"basis-2/12"},Nn={class:"basis-5/12"},Sn={class:"basis-2/12 flex items-end"},An={class:"flex flex-row space-x-3 px-4 mt-2"},Pn={class:"basis-1/4"},Mn={class:"basis-1/4"},$n={class:"basis-1/4"},kn={class:"basis-1/4"},Un={class:"basis-1/2"},Ln=l("div",{class:"w-full bg-slate-400 px-3 py-1"}," Type of Services ",-1),Yn={class:"flex flex-row space-x-5 p-5"},Bn={class:"w-1/2"},jn={class:"w-1/2"},Hn={class:"flex flex-row space-x-5 p-5"},qn={class:"w-full p-3 border border-gray"},Gn=l("div",null,null,-1),Wn={class:"flex flex-row space-x-4 justify-end mt-2"},Fn={class:"w-[120px]"},Jn={class:"w-[120px]"},zn={key:0,class:"w-full text-center"},ni=fe({__name:"Detail",props:{selectedCustomer:{type:[Number,String,null],required:!0},formAction:{type:[Number,String,null],required:!1},selectedComplaint:{type:[Number,String,null],required:!0},selectedOrder:{type:[Number,String,null],required:!0},selectedSerial:{type:[Number,String,null],required:!0}},emits:["close","save"],setup(ee,{emit:le}){const K=le,D=ee,H=v(D.selectedOrder),m=ve(),s=v(!1),V=v({setSerReportCount:null,warnMsgModalOpen:!1}),B=v(!1),U=v(null),Z=v([]),_=_e({customerID:D.selectedCustomer,market:null,number:null,source:null,sourcedescription:null,SourceConfrence:null,fname:null,mi:null,lname:null,title:null,position:null,company1:null,company2:null,country:null,address:null,city:null,state:null,zip:null,workphone:null,homephone:null,cellphone:null,fax:null,email:null,website:null,notes:null,billcompany1:null,billcompany2:null,billcountry:null,billaddress:null,billcity:null,billstate:null,billzip:null,billphone:null,billfax:null,attn:null,adddate:null,ParadynamixCatagory:null,fullname:null,Extension:null,ExtensionBill:null}),T=v({defaultColumns:[{key:"serial",label:"Serial"}],serials:[],selectedSerial:null,isLoading:!1}),f=v({defaultColumns:[{key:"COMPLAINTDATE",label:"Date"},{key:"COMPLAINTNUMBER",label:"#"}],complaints:[],selectedComplaint:null,isLoading:!1}),k=v({defaultColumns:[{key:"orderdate",label:"Date"},{key:"invoicenumber",label:"Invoice#"},{key:"terms",label:"Terms"}],invoices:[],selectedInvoice:null,isLoading:!1}),E=v({defaultColumns:[{key:"REPAIRDATE",label:"Date"},{key:"REPAIRDESC",label:"Type"},{key:"REPAIRSBY",label:"By"}],serviceReports:[],selectedServiceReport:null,isLoading:!1}),o=v({defaultColumns:[{key:"DIAGDATE",label:"Date"},{key:"DESCRIPTION",label:"Description"}],investigations:[],selectedInvestigation:null,isLoading:!1}),d=v({COMPLAINTNUMBER:null,COMPLAINTDATE:null,RECBY:null,RECBYOptions:[],SERIALNO:null,COMPLAINT:null,PRODUCTDESC:null,NONCONFORMANCE:null,OPENCASE:"0",INJURYREPORTNO:null,uniqueID:null,ValidComplaintReason:null,FAILINVEST:null,CLOSEDOUTBY:null,MODELNO:null}),c=v(null),N=v({reasonOptions:[]}),p=v({isServiceReportModalOpen:!1,isInventoryTransactionModalOpen:!1,isInvoiceModalOpen:!1,isInvoiceListModalOpen:!1,isInvestigationModalOpen:!1,isNonConformanceModalOpen:!1,isInjuryReport1ModalOpen:!1,isInjuryReport2ModalOpen:!1}),h=v(null),y=v(null);v(null);const X=v([{value:"0",label:"Open"},{value:"1",label:"Close"}]);v(null);const M=v([{value:"0",label:"No"},{value:"1",label:"Yes"}]);v(null);const G=v(null);v(null);const a=v(null),b=async()=>{s.value=!0,await q()},q=async()=>{await P(`/api/tbl/tblCustomers/${D.selectedCustomer}`,{method:"GET",onResponse({response:r}){if(r.status===200){s.value=!1;for(const i in r._data.body)r._data.body[i]&&(_[i]=r._data.body[i])}},onResponseError(){s.value=!1,m.add({title:"Error",description:"Fail to get customer information",icon:"i-heroicons-exclamation-triangle",color:"red"})}}),await de(),await ie()},ie=async()=>{await P("/api/tbl/tblEmployee?ACTIVE=1",{method:"GET",onResponse({response:r}){var i;if(r.status===200){const I=(i=r._data)==null?void 0:i.body;if(I!=null&&I.length){const A=I.map(S=>`#${S.payrollnumber||"n/a"} ${S.fname||""} ${S.lname||""}`);return d.value.RECBYOptions=A,A}}}})},de=async()=>{s.value=!0,await P("/api/invoices/serials/",{method:"GET",params:{customerid:D.selectedCustomer},onResponse({response:r}){r.status===200&&(s.value=!1,T.value.serials=r._data.body)},onResponseError(){s.value=!1}})},ae=async()=>{s.value=!0,await P("/api/service/complaints/",{method:"GET",params:{SERIALNO:T.value.selectedSerial.serial},onResponse({response:r}){r.status===200&&(s.value=!1,f.value.complaints=r._data.body)},onResponseError(){s.value=!1}})},se=async()=>{var r,i;s.value=!0,await P("/api/invoices/serviceorderinvoices/",{method:"GET",params:{COMPLAINTID:(i=(r=f.value)==null?void 0:r.selectedComplaint)==null?void 0:i.uniqueID},onResponse({response:I}){I.status===200&&(s.value=!1,k.value.invoices=I._data.body)},onResponseError(){s.value=!1}})},re=async()=>{s.value=!0,await P("/api/service/servicereports/",{method:"GET",params:{COMPLAINTID:f.value.selectedComplaint.uniqueID},onResponse({response:r}){let i=0;r.status===200&&(s.value=!1,E.value.serviceReports=r._data.body,E.value.serviceReports.forEach(I=>{I.ServiceStatus==="open"&&i++;let A;switch(I.REPAIRDESC){case 0:A="Field Service";break;case 1:A="Factory Service";break;case 2:A="Customer";break;default:A=null}I.REPAIRDESC=A})),V.value.setSerReportCount=i},onResponseError(){s.value=!1}})},ne=async()=>{var r,i;s.value=!0,await P("/api/engineering/investigationcomplaints",{method:"GET",params:{ComplaintID:(i=(r=f.value)==null?void 0:r.selectedComplaint)==null?void 0:i.uniqueID},onResponse({response:I}){I.status===200&&(s.value=!1,o.value.investigations=I._data.body)},onResponseError(){s.value=!1}})},u=async r=>{var i;await P(`/api/invoices/${r}`,{method:"PUT",body:{complaintID:(i=f.value.selectedComplaint)==null?void 0:i.uniqueID}})},te=async r=>{await P(`/api/invoices/${r}`,{method:"PUT",body:{complaintID:null}})},Te=async r=>{if(JSON.stringify({...T.value.selectedSerial,class:""})!==JSON.stringify({...r,class:""})&&(T.value.selectedSerial={...r,class:""},T.value.serials.forEach(i=>{i.UniqueID===r.UniqueID?i.class="bg-gray-200":delete i.class}),k.value.invoices=[],k.value.selectedInvoice=null,E.value.serviceReports=[],E.value.selectedServiceReport=null,d.value.SERIALNO=T.value.selectedSerial.serial,d.value.ValidComplaintReason=null,d.value.FAILINVEST=null,T.value.selectedSerial)){await ae();let i=f.value.complaints.map($=>$.RECBY);i=i.filter($=>$!==""&&$!==null);let I=new Set,A=i.filter($=>I.has($)?!1:(I.add($),!0));d.value.PRODUCTDESC=f.value.complaints[0].PRODUCTDESC,d.value.RECBYOptions=A,d.value.RECBYOptions.unshift(null);let S=f.value.complaints.map($=>$.ValidComplaintReason);S=S.filter($=>$!==""&&$!==null);let g=new Set,oe=S.filter($=>g.has($)?!1:(g.add($),!0));N.value.reasonOptions=oe,N.value.reasonOptions.unshift(null)}},ge=async r=>{f.value.selectedComplaint={...r,class:""},f.value.complaints.forEach(i=>{i.uniqueID===r.uniqueID?i.class="bg-gray-200":delete i.class}),f.value.selectedComplaint?(H.value=f.value.selectedComplaint.uniqueID,d.value.SERIALNO=f.value.selectedComplaint.SERIALNO,d.value.COMPLAINTNUMBER=f.value.selectedComplaint.COMPLAINTNUMBER,d.value.COMPLAINTDATE=f.value.selectedComplaint.COMPLAINTDATE,d.value.COMPLAINT=f.value.selectedComplaint.COMPLAINT,d.value.PRODUCTDESC=f.value.selectedComplaint.PRODUCTDESC,d.value.RECBY=f.value.selectedComplaint.RECBY,d.value.ValidComplaintReason=f.value.selectedComplaint.ValidComplaintReason,d.value.FAILINVEST=f.value.selectedComplaint.FAILINVEST,d.value.OPENCASE=f.value.selectedComplaint.OPENCASE,d.value.INJURYREPORTNO=f.value.selectedComplaint.INJURYREPORTNO,d.value.CLOSEDOUTBY=f.value.selectedComplaint.ClosedOutBy,c.value=f.value.selectedComplaint.WARRANTYUNTIL,await se(),await re(),await ne()):(d.value.SERIALNO=null,d.value.COMPLAINTNUMBER=null,d.value.COMPLAINTDATE=null,d.value.COMPLAINT=null,d.value.PRODUCTDESC=null,d.value.RECBY=null,d.value.OPENCASE=null,d.value.INJURYREPORTNO=null,d.value.CLOSEDOUTBY=null,c.value=null,k.value.invoices=[],E.value.serviceReports=[])},ke=async r=>{k.value.selectedInvoice={...r,class:""},k.value.invoices.forEach(i=>{i.UniqueID===r.UniqueID?i.class="bg-gray-200":delete i.class})},Ue=()=>{p.value.isInvoiceModalOpen=!0},Le=async r=>{E.value.selectedServiceReport={...r,class:""},E.value.serviceReports.forEach(i=>{i.uniqueID===r.uniqueID?i.class="bg-gray-200":delete i.class})},Ye=()=>{var r;h.value=(r=E.value.selectedServiceReport)==null?void 0:r.uniqueID,p.value.isServiceReportModalOpen=!0},Be=async r=>{o.value.selectedInvestigation={...r,class:""},o.value.investigations.forEach(i=>{i.uniqueid===r.uniqueid?i.class="bg-gray-200":delete i.class})},je=()=>{p.value.isInvestigationModalOpen=!0},He=async()=>{if(!f.value.selectedComplaint){m.add({description:"You must save this complaint first before you can continue",icon:"i-heroicons-exclamation-triangle",color:"yellow"});return}h.value=null,p.value.isServiceReportModalOpen=!0},qe=async()=>{p.value.isServiceReportModalOpen=!1},Ge=async()=>{p.value.isServiceReportModalOpen=!1,re()},We=()=>{p.value.isInventoryTransactionModalOpen=!0},Fe=()=>{f.value.selectedComplaint?p.value.isInvoiceModalOpen=!0:m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},Je=()=>{f.value.selectedComplaint?p.value.isInvoiceListModalOpen=!0:m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},ze=()=>{var r;k.value.selectedInvoice?(te((r=k.value.selectedInvoice)==null?void 0:r.UniqueID),se()):m.add({description:"Please select invoice first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},Ke=()=>{f.value.selectedComplaint?p.value.isInjuryReport1ModalOpen=!0:m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},Ze=()=>{f.value.selectedComplaint?p.value.isInjuryReport2ModalOpen=!0:m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},Xe=()=>{f.value.selectedComplaint?p.value.isInvestigationModalOpen=!0:m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},Qe=async()=>{var r;o.value.selectedInvestigation?await P(`/api/engineering/investigationcomplaints/${((r=o.value.selectedInvestigation)==null?void 0:r.uniqueid)??0}`,{method:"DELETE",onResponse({response:i}){i.status===200&&ne()}}):m.add({description:"Please select investigation first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},el=()=>{f.value.selectedComplaint?p.value.isNonConformanceModalOpen=!0:m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},ll=()=>{var r,i;(r=f.value.selectedComplaint)!=null&&r.uniqueID?window.open(`/api/service/orders/exportcomplaints/${(i=f.value.selectedComplaint)==null?void 0:i.uniqueID}`):m.add({description:"Please select order first",icon:"i-heroicons-exclamation-triangle",color:"yellow"})},tl=()=>{p.value.isInvoiceModalOpen=!1},sl=()=>{p.value.isInvoiceListModalOpen=!1},ol=async()=>{se()},al=async r=>{await u(r),se()},nl=()=>{p.value.isInvestigationModalOpen=!1},il=async r=>{d.value.NONCONFORMANCE?d.value.NONCONFORMANCE+=` & ${r}`:d.value.NONCONFORMANCE=r},dl=()=>{p.value.isNonConformanceModalOpen=!1},rl=()=>{p.value.isInjuryReport1ModalOpen=!1},ul=()=>{p.value.isInjuryReport2ModalOpen=!1},cl=async r=>{var i;await P("/api/engineering/investigationcomplaints/",{method:"POST",body:{investigationID:r,ComplaintID:((i=f.value.selectedComplaint)==null?void 0:i.uniqueID)??0},onResponse({response:I}){I.status===200&&ne()}})},pl=r=>{const i=[];return r.COMPLAINTDATE||i.push({path:"complaintDate",message:"Required"}),r.INJURYREPORTNO===null&&i.push({path:"injuryReportNo",message:"Required"}),r.OPENCASE===null&&i.push({path:"openCase",message:"Required"}),r.SERIALNO||i.push({path:"serial",message:"Required"}),Z.value=i,i};async function ml(r){const{RECBYOptions:i,...I}=r.data;if(V.value.setSerReportCount>0&&I.OPENCASE=="1")return V.value.warnMsgModalOpen=!0,!0;V.value.warnMsgModalOpen=!1,I.OPENCASE=="1"?(U.value=I,B.value=!0):Oe(I)}const fl=()=>{Oe(U.value),B.value=!1},Oe=async r=>{const i=D.formAction=="add"?"POST":"PUT";i=="POST"&&(r.CustomerID=D.selectedCustomer);const I=`/api/service/orders/${H.value}`;await P(I,{method:i,body:r,onResponse({response:A}){A.status===200&&(m.add({title:"Success",description:A._data.message,icon:"i-heroicons-check-circle",color:"green"}),K("close"))}})};return we(()=>T.value.serials,()=>{var r;if(T.value.serials.length>0){const i=(r=T.value)==null?void 0:r.serials.find(I=>(I==null?void 0:I.serial)===D.selectedSerial);i&&Te({UniqueID:i.UniqueID,class:"bg-gray-200",serial:D.selectedSerial})}}),we(()=>f.value.complaints,()=>{var r;if(f.value.complaints.length>0){const i=(r=f.value)==null?void 0:r.complaints.find(I=>(I==null?void 0:I.COMPLAINTNUMBER)===D.selectedComplaint);i&&ge(i)}}),D.selectedCustomer?b():q(),(r,i)=>{const I=Me,A=$e,S=ce,g=ye,oe=pe,$=ua,De=Ee,Ve=ue,Ne=Ie,vl=Re,_l=me,bl=gl,z=Dl,yl=Vl,xl=Nl,El=Sl,Il=qt,Rl=Ol,hl=Qs,Cl=ra;return R(),O(Y,null,[l("div",ca,[t(e(he),{active:e(s),"onUpdate:active":i[0]||(i[0]=x=>Q(s)?s.value=x:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),t(_l,{validate:pl,"validate-on":["submit"],state:e(d),onSubmit:ml},{default:n(()=>{var x,Se,Ae;return[pa,l("div",ma,[l("div",fa,[l("div",va,[l("div",null," Customer# "+w(e(_).number),1),l("div",null,[t(I,{name:"fix",label:"Fix Serial Record Mode"})])]),l("div",_a,[l("div",ba,[ya,l("div",xa,[l("div",null,w(e(_).fname?e(_).fname:"")+" "+w(e(_).lname?e(_).lname:""),1),l("div",null,w(e(_).company1?e(_).company1:""),1),l("div",null,w(e(_).company2?e(_).company2:""),1),l("div",null,w(e(_).address?e(_).address:""),1),l("div",null,w(e(_).city?e(_).city:"")+" "+w(e(_).state?`, ${e(_).state}`:"")+" "+w(e(_).zip?`, ${e(_).zip}`:""),1),l("div",Ea,[l("div",Ia,w(e(_).homephone?`H: ${e(_).homephone}`:""),1),l("div",Ra,w(e(_).workphone?`W: ${e(_).workphone}`:""),1)]),l("div",null,w(e(_).cellphone?`C: ${e(_).cellphone}`:""),1)])]),l("div",ha,[Ca,l("div",wa,[Ta,l("div",null,w(e(_).billcompany1?e(_).billcompany1:""),1),l("div",null,w(e(_).billcompany2?e(_).billcompany2:""),1),l("div",null,w(e(_).billaddress?e(_).billaddress:""),1),l("div",null,w(e(_).billcity?e(_).billcity:"")+" "+w(e(_).billstate?`, ${e(_).billstate}`:"")+" "+w(e(_).billzip?`,  ${e(_).billzip}`:""),1),l("div",null,w(e(_).billphone?`P: ${e(_).billphone}`:""),1)])])])]),l("div",ga,[l("div",Oa,[l("div",Da,[t(S,{label:"Select Serial",name:"serial"},{default:n(()=>{var C;return[t(A,{columns:e(T).defaultColumns,rows:e(T).serials,class:Pe((C=e(Z))!=null&&C.find(W=>W.path==="serial")?"border-red-500 w-full":"w-full"),ui:{wrapper:"h-32 border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:Te},{"empty-state":n(()=>[Va]),_:1},8,["columns","rows","class"])]}),_:1})]),l("div",Na,[t(S,{label:"View Orders",name:"orders"},{default:n(()=>[t(A,{rows:e(f).complaints,columns:e(f).defaultColumns,ui:{wrapper:"h-32 border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:ge},{"empty-state":n(()=>[Sa]),_:1},8,["rows","columns"])]),_:1})]),l("div",Aa,[l("div",Pa,[l("div",null,[t(S,{label:"View Invoice",name:"invoice"},{default:n(()=>[t(A,{rows:e(k).invoices,columns:e(k).defaultColumns,ui:{wrapper:"h-[100px] border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:ke,onDblclick:Ue},{"empty-state":n(()=>[Ma]),_:1},8,["rows","columns"])]),_:1})]),l("div",$a,[l("div",ka,[t(g,{icon:"i-heroicons-plus-20-solid",label:"New",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:Fe})]),l("div",Ua,[t(g,{icon:"i-heroicons-plus-20-solid",label:"Link",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:Je})]),l("div",La,[t(g,{icon:"i-heroicons-minus-circle-20-solid",label:"Unlink",variant:"outline",color:"red",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:ze})])])])])]),l("div",Ya,[Ba,l("div",ja,[l("div",Ha,[l("div",qa,[t(A,{rows:e(E).serviceReports,columns:e(E).defaultColumns,ui:{wrapper:"h-24 border-2 border-gray-300 dark:border-gray-700 bg-white dark:text-gray dark:bg-[#111827]",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:Le,onDblclick:Ye},{"empty-state":n(()=>[Ga]),_:1},8,["rows","columns"]),l("div",Wa,[Fa,l("div",null,[t(g,{icon:"i-f7-rays",label:"Clear Selection",variant:"outline",color:"red",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})])])]),l("div",Ja,[l("div",null,[t(I,{name:"warranty",label:"Warranty Service"})]),za,Ka,Za])]),l("div",Xa,[l("div",Qa,[l("div",en,[t(g,{icon:"i-heroicons-check-badge-20-solid",label:"View Inventory Transaction",variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:We})])]),l("div",ln,[l("div",tn,[t(g,{icon:"i-heroicons-plus-20-solid",label:"Create Service Report",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:He})])])])])])])]),l("div",sn,[l("div",on,[an,l("div",nn,[l("div",dn,[l("div",null,w((x=e(d))!=null&&x.COMPLAINTNUMBER?`# ${e(d).COMPLAINTNUMBER}`:""),1),l("div",null,w((Se=e(d))==null?void 0:Se.PRODUCTDESC),1),l("div",null,w((Ae=e(d))!=null&&Ae.SERIALNO?`Serial ${e(d).SERIALNO}`:""),1)]),t(S,{name:"modelNo",class:"hidden"},{default:n(()=>[t(oe,{modelValue:e(d).MODELNO,"onUpdate:modelValue":i[1]||(i[1]=C=>e(d).MODELNO=C)},null,8,["modelValue"])]),_:1}),l("div",rn,[l("div",un,[cn,l("div",pn,[t(S,{name:"complaintDate"},{default:n(()=>[t(De,{popper:{placement:"bottom-start"}},{panel:n(({close:C})=>[t($,{modelValue:e(d).COMPLAINTDATE,"onUpdate:modelValue":i[2]||(i[2]=W=>e(d).COMPLAINTDATE=W),"is-required":"",onClose:C},null,8,["modelValue","onClose"])]),default:n(()=>{var C;return[t(g,{icon:"i-heroicons-calendar-days-20-solid",label:e(d).COMPLAINTDATE&&e(L)(e(d).COMPLAINTDATE,"MM/dd/yyyy"),variant:"outline",class:Pe((C=e(Z))!=null&&C.find(W=>W.path==="complaintDate")?"ring-red-500":""),ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""},null,8,["label","class"])]}),_:1})]),_:1})])]),l("div",mn,[fn,l("div",vn,[t(Ve,{modelValue:e(d).RECBY,"onUpdate:modelValue":i[3]||(i[3]=C=>e(d).RECBY=C),options:e(d).RECBYOptions},null,8,["modelValue","options"])])])]),l("div",_n,[t(S,{name:"openCase"},{default:n(()=>[l("div",bn,[(R(!0),O(Y,null,j(e(X),C=>(R(),F(Ne,J({key:C.value,modelValue:e(d).OPENCASE,"onUpdate:modelValue":i[4]||(i[4]=W=>e(d).OPENCASE=W),ref_for:!0},C),null,16,["modelValue"]))),128))])]),_:1}),l("div",yn," Warranty Period: "+w(e(c)),1)])]),l("div",xn,[t(S,{label:"Desicripton",name:"description"},{default:n(()=>[t(vl,{modelValue:e(d).COMPLAINT,"onUpdate:modelValue":i[5]||(i[5]=C=>e(d).COMPLAINT=C)},null,8,["modelValue"])]),_:1})]),l("div",En,[l("div",In,[Rn,t(S,{name:"injuryReportNo",class:"basis-3/12 flex flex-row items-center"},{default:n(()=>[l("div",hn,[(R(!0),O(Y,null,j(e(M),C=>(R(),F(Ne,J({key:C.value,modelValue:e(d).INJURYREPORTNO,"onUpdate:modelValue":i[6]||(i[6]=W=>e(d).INJURYREPORTNO=W),ref_for:!0},C),null,16,["modelValue"]))),128))])]),_:1}),l("div",Cn,[t(g,{label:"VIEW#1",onClick:Ke}),t(g,{label:"VIEW#2",onClick:Ze})])])]),l("div",wn,[l("div",Tn,[gn,l("div",On,[l("div",Dn,[t(S,{label:"Received",name:"received"},{default:n(()=>[t(De,{popper:{placement:"bottom-start"}},{panel:n(({close:C})=>[t($,{modelValue:e(G),"onUpdate:modelValue":i[7]||(i[7]=W=>Q(G)?G.value=W:null),"is-required":"",onClose:C},null,8,["modelValue","onClose"])]),default:n(()=>[t(g,{icon:"i-heroicons-calendar-days-20-solid",label:e(y)&&e(L)(e(y),"d MMM, yyy"),variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""},null,8,["label"])]),_:1})]),_:1})]),l("div",Vn,[t(S,{label:"NC#",name:"nc"},{default:n(()=>[t(oe,{modelValue:e(d).NONCONFORMANCE,"onUpdate:modelValue":i[8]||(i[8]=C=>e(d).NONCONFORMANCE=C)},null,8,["modelValue"])]),_:1})]),l("div",Nn,[t(S,{label:"Accessories Received",name:"accessories received"},{default:n(()=>[t(oe,{modelValue:e(a),"onUpdate:modelValue":i[9]||(i[9]=C=>Q(a)?a.value=C:null)},null,8,["modelValue"])]),_:1})]),l("div",Sn,[t(g,{icon:"i-heroicons-plus-20-solid",label:"Receive",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:el})])])]),l("div",An,[l("div",Pn,[t(g,{type:"submit",icon:"i-heroicons-document-text-20-solid",label:"Save",color:"green",variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})]),l("div",Mn,[t(g,{icon:"i-heroicons-eye-20-solid",label:"Preview Order",variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:ll})]),l("div",$n,[t(g,{icon:"i-heroicons-eye-20-solid",label:"Preview Label",variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})]),l("div",kn,[t(g,{icon:"i-f7-rays",label:"Clear Form",color:"red",variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})])])])]),l("div",Un,[Ln,l("div",Yn,[l("div",Bn,[t(S,{label:"Select",name:"select"},{default:n(()=>[t(Ve,{modelValue:e(d).ValidComplaintReason,"onUpdate:modelValue":i[10]||(i[10]=C=>e(d).ValidComplaintReason=C),options:["","Warranty","Quote","Billable","Complaint","Installation","Checkup","Info Only"]},null,8,["modelValue"])]),_:1})]),l("div",jn,[t(S,{label:"Failure Comment",name:"failure"},{default:n(()=>[t(oe,{modelValue:e(d).FAILINVEST,"onUpdate:modelValue":i[11]||(i[11]=C=>e(d).FAILINVEST=C)},null,8,["modelValue"])]),_:1})])]),l("div",Hn,[l("div",qn,[t(S,{label:"Investigation Required",name:"investigation"},{default:n(()=>[t(A,{rows:e(o).investigations,columns:e(o).defaultColumns,ui:{wrapper:"h-32 border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:Be,onDblclick:je},{"empty-state":n(()=>[Gn]),_:1},8,["rows","columns"])]),_:1}),l("div",Wn,[l("div",Fn,[t(g,{icon:"i-heroicons-plus-20-solid",variant:"outline",label:"Add",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:Xe})]),l("div",Jn,[t(g,{icon:"i-heroicons-minus-circle-20-solid",variant:"outline",color:"red",label:"Remove",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:Qe})])])])]),e(d).OPENCASE==="1"&&e(d).CLOSEDOUTBY?(R(),O("div",zn,w(e(d).CLOSEDOUTBY),1)):Tl("",!0)])])]}),_:1},8,["state"]),t(z,{modelValue:e(p).isServiceReportModalOpen,"onUpdate:modelValue":i[12]||(i[12]=x=>e(p).isServiceReportModalOpen=x),title:"Service Report",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1700px] sm:max-w-9xl"}},{default:n(()=>{var x;return[t(bl,{"selected-complaint":(x=e(f).selectedComplaint)==null?void 0:x.uniqueID,"selected-service-report":e(h),onSave:Ge,onClose:qe},null,8,["selected-complaint","selected-service-report"])]}),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isInventoryTransactionModalOpen,"onUpdate:modelValue":i[13]||(i[13]=x=>e(p).isInventoryTransactionModalOpen=x),title:"Inventory Transactions",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[t(yl)]),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isInvoiceModalOpen,"onUpdate:modelValue":i[14]||(i[14]=x=>e(p).isInvoiceModalOpen=x),title:"Invoivce",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>{var x;return[t(xl,{"selected-customer":D.selectedCustomer,"selected-complaint":(x=e(f).selectedComplaint)==null?void 0:x.uniqueID,onSave:ol,onClose:tl},null,8,["selected-customer","selected-complaint"])]}),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isInvoiceListModalOpen,"onUpdate:modelValue":i[15]||(i[15]=x=>e(p).isInvoiceListModalOpen=x),title:"Invoice List",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1 overflow-y-auto",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl",height:"h-[900px] sm:h-[900px]"}},{default:n(()=>[t(El,{"selected-customer":D.selectedCustomer,onClose:sl,onLink:al},null,8,["selected-customer"])]),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isInvestigationModalOpen,"onUpdate:modelValue":i[16]||(i[16]=x=>e(p).isInvestigationModalOpen=x),title:"Root Cause Investigation",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>{var x;return[t(Il,{"selected-investigation":((x=e(o).selectedInvestigation)==null?void 0:x.investigationID)??null,onClose:nl,onLink:cl},null,8,["selected-investigation"])]}),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isNonConformanceModalOpen,"onUpdate:modelValue":i[17]||(i[17]=x=>e(p).isNonConformanceModalOpen=x),title:"Non Conformance",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[t(Rl,{onLink:il,onClose:dl})]),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isInjuryReport1ModalOpen,"onUpdate:modelValue":i[18]||(i[18]=x=>e(p).isInjuryReport1ModalOpen=x),title:"Patient Injury Report",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>{var x;return[t(hl,{"selected-complaint":(x=e(f).selectedComplaint)==null?void 0:x.uniqueID,onClose:rl},null,8,["selected-complaint"])]}),_:1},8,["modelValue"]),t(z,{modelValue:e(p).isInjuryReport2ModalOpen,"onUpdate:modelValue":i[19]||(i[19]=x=>e(p).isInjuryReport2ModalOpen=x),title:"Patient Injury Report#2",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>{var x;return[t(Cl,{"selected-complaint":(x=e(f).selectedComplaint)==null?void 0:x.uniqueID,onClose:ul},null,8,["selected-complaint"])]}),_:1},8,["modelValue"]),t(z,{modelValue:e(V).warnMsgModalOpen,"onUpdate:modelValue":i[21]||(i[21]=x=>e(V).warnMsgModalOpen=x),description:"You cannot close a service order that has open service reports. Please close any open service reports prior to closing this order.",ui:{description:{base:"text-lg"},footer:{base:"flex  justify-end pr-6"}}},{footer:n(()=>[t(g,{label:"ok",variant:"outline",color:"red",ui:{base:"w-24",truncate:"flex justify-center w-full"},truncate:"",onClick:i[20]||(i[20]=x=>e(V).warnMsgModalOpen=!1)})]),_:1},8,["modelValue"]),t(z,{modelValue:e(B),"onUpdate:modelValue":i[24]||(i[24]=x=>Q(B)?B.value=x:null),description:"The System will now relieve inventory and close this complaint. Are you sure you wish to continue?",ui:{description:{base:"text-lg"},footer:{base:"flex  justify-end pr-6"}}},{footer:n(()=>[t(g,{label:"Yes",variant:"outline",color:"green",ui:{base:"w-24",truncate:"flex justify-center w-full"},truncate:"",onClick:fl}),t(g,{label:"No",variant:"outline",color:"red",ui:{base:"w-24",truncate:"flex justify-center w-full"},truncate:"",onClick:i[22]||(i[22]=x=>B.value=!1)}),t(g,{label:"Cancel",variant:"outline",color:"black",ui:{base:"w-24",truncate:"flex justify-center w-full"},truncate:"",onClick:i[23]||(i[23]=x=>B.value=!1)})]),_:1},8,["modelValue"])],64)}}});export{ni as _};
