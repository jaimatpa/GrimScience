import{d as Y,r as p,j as Z,l as J,m as X,o as w,c as M,h as a,f as s,g as l,p as ee,e as le,F as E,w as n,y as oe,q as se,s as te,t as ae}from"./RPcYXXev.js";import{_ as ne}from"./DBeKXjhb.js";import{_ as ie,a as de,b as ue}from"./Crp9aCmO.js";import{_ as me}from"./CtWjGfD-.js";import{_ as re}from"./C1sp2X5w.js";import{a as pe}from"./Dw6iTx8h.js";import{_ as ce}from"./D923ZLaS.js";import{_ as fe,a as be}from"./CIB32lOs.js";import{_ as _e}from"./E1zpYRWT.js";import{L as xe,u as b}from"./BqkbertX.js";const Ve=se(ne),ve={class:"vl-parent"},ye={class:"flex flex-row space-x-3"},we={class:"basis-1/5"},Ce={class:"basis-1/5"},ge={class:"basis-1/5"},Ue={class:"basis-1/5"},he={class:"basis-1/5"},Oe={class:"flex flex-row space-x-3"},Me={class:"basis-1/5"},Se={class:"basis-1/5"},ke={class:"basis-1/5"},De={class:"basis-1/5"},Ee={class:"basis-1/5"},Re=a("div",{class:"flex flex-row"},[a("div",{class:"basis-1/2 text-center"}," Shipping Information "),a("div",{class:"basis-1/2 text-center"}," Billing Information ")],-1),Te={class:"flex flex-row space-x-5"},Ne={class:"basis-1/2"},Ae={class:"flex flex-col space-y-2"},Ie={class:"flex flex-row space-x-3"},qe={class:"basis-1/2"},Pe={class:"basis-1/2"},$e={class:"flex flex-row space-x-3"},Be={class:"w-full"},Fe={class:"flex flex-row space-x-3"},Ge={class:"w-full"},je={class:"flex flex-row space-x-3"},ze={class:"basis-1/2"},Le={class:"basis-1/4"},Qe={class:"basis-1/4"},We={class:"flex flex-row space-x-3"},He={class:"basis-1/2"},Ke={class:"basis-1/2"},Ye={class:"flex flex-row space-x-3"},Ze={class:"basis-6/12"},Je={class:"basis-5/12"},Xe={class:"basis-1/12"},el={class:"flex flex-row space-x-3"},ll={class:"basis-1/2"},ol={class:"basis-1/2"},sl={class:"flex flex-row space-x-3"},tl={class:"w-full"},al={class:"basis-1/2"},nl={class:"flex flex-col space-y-2"},il={class:"flex flex-row space-x-3"},dl={class:"w-full"},ul={class:"flex flex-row space-x-3"},ml={class:"basis-1/2"},rl={class:"basis-1/2"},pl={class:"flex flex-row space-x-3"},cl={class:"w-full"},fl={class:"flex flex-row space-x-3"},bl={class:"w-full"},_l={class:"flex flex-row space-x-3"},xl={class:"basis-1/2"},Vl={class:"basis-1/4"},vl={class:"basis-1/4"},yl={class:"flex flex-row space-x-3"},wl={class:"basis-1/2"},Cl={class:"basis-1/2"},gl={class:"flex flex-row space-x-3"},Ul={class:"w-full"},hl={class:"flex justify-start gap-3"},Ol={key:0,class:"flex gap-x-4"},Ml=a("div",{class:"px-4 py-2 gmsPurpleTitlebar mt-4"},[a("h2",null,"Serial Record")],-1),Sl={class:"w-[180px] mt-4"},kl={class:"flex flex-col w-full"},Dl=a("div",{class:"px-4 py-2 gmsPurpleTitlebar mt-4"},[a("h2",null,"Create New")],-1),El={class:"flex space-x-6 mt-4"},Rl={class:"w-[120px]"},Tl={class:"w-[120px]"},Nl={class:"w-[120px]"},Al={class:"w-[140px]"},Il={class:"w-[120px]"},Wl=Y({__name:"CustomersForm",props:{selectedCustomer:{type:[String,Number,null],required:!0},isModal:{type:[Boolean]}},emits:["close","save"],setup(r,{emit:R}){const S=R,x=r,T=p("add"),k=Z(),N=J(),C=ae(),c=p(!1),g=p(!0),U=p([]),V=p([]),h=p([]),O=p([]),v=p([]),t=X({UniqueID:null,market:null,number:null,source:V[0],sourcedescription:null,SourceConfrence:null,fname:null,mi:null,lname:null,title:null,position:null,company1:null,company2:null,country:null,address:null,city:null,state:null,zip:null,workphone:null,homephone:null,cellphone:null,fax:null,email:null,website:null,notes:null,billcompany1:null,billcompany2:null,billcountry:null,billaddress:null,billcity:null,billstate:null,billzip:null,billphone:null,billfax:null,attn:null,adddate:null,ParadynamixCatagory:null,fullname:null,Extension:null,ExtensionBill:null}),A=async()=>{c.value=!0,await b(`/api/customers/${x.selectedCustomer}`,{method:"GET",onResponse({response:d}){if(d.status===200){c.value=!1,g.value=!0;for(const e in d._data.body)d._data.body[e]!==void 0&&(t[e]=d._data.body[e])}},onResponseError({}){g.value=!1}}),D(),c.value=!1},D=async()=>{c.value=!0,await b("/api/customers/markets",{method:"GET",onResponse({response:d}){d.status===200&&(U.value=d._data.body)},onResponseError(){U.value=[]}}),await b("/api/customers/conferences",{method:"GET",onResponse({response:d}){d.status===200&&(O.value=d._data.body)},onResponseError(){O.value=[]}}),await b("/api/customers/categories",{method:"GET",onResponse({response:d}){d.status===200&&(h.value=d._data.body)},onResponseError(){h.value=[]}}),await b("/api/customers/professions",{method:"GET",onResponse({response:d}){d.status===200&&(V.value=d._data.body)},onResponseError(){V.value=[]}}),await b("/api/common/usstates",{method:"GET",onResponse({response:d}){d.status===200&&(v.value=d._data.body)},onResponseError(){v.value=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]}}),c.value=!1},I=d=>{const e=[];return d.fname||e.push({path:"fname",message:"Please enter your frist name."}),d.lname||e.push({path:"lname",message:"Please enter a your last name."}),d.email||e.push({path:"email",message:"Please enter an email."}),e},q=async()=>{var d;(d=C==null?void 0:C.vnode)!=null&&d.props.onClose?S("close"):N.go(-1)},P=async d=>{x.selectedCustomer===null?await b("/api/customers",{method:"POST",body:d.data,onResponse({response:e}){e.status===200&&k.add({title:"Success",description:e._data.message,icon:"i-heroicons-check-circle",color:"green"})}}):await b(`/api/customers/${x.selectedCustomer}`,{method:"PUT",body:d.data,onResponse({response:e}){e.status===200&&k.add({title:"Success",description:e._data.message,icon:"i-heroicons-check-circle",color:"green"})}}),S("save")},m=p({isCustomerModalOpen:!1,isOrderDetailModalOpen:!1,isQuoteDetailModalOpen:!1,isServiceOrderDetailModalOpen:!1,isSiteVisitModalOpen:!1,modalTitle:"New Customer"}),$=()=>{m.value.isOrderDetailModalOpen=!0},B=()=>{m.value.isQuoteDetailModalOpen=!0},F=()=>{m.value.isServiceOrderDetailModalOpen=!0},G=()=>{m.value.isSiteVisitModalOpen=!0};return x.selectedCustomer!==null?A():D(),(d,e)=>{const j=Ve,u=ie,i=de,_=me,z=re,f=te,L=ue,Q=pe,y=ce,W=fe,H=_e,K=be;return w(),M(E,null,[a("div",ve,[s(l(xe),{active:l(c),"onUpdate:active":e[0]||(e[0]=o=>ee(c)?c.value=o:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),!x.isModal&&!l(g)?(w(),le(j,{key:0,name:"Customer not found",message:"The customer you are looking for does not exist",to:"/customers/customers/list"})):(w(),M(E,{key:1},[s(L,{validate:I,"validate-on":["submit"],state:l(t),class:"space-y-4",onSubmit:P},{default:n(()=>[a("div",ye,[a("div",we,[s(i,{label:"Frist",name:"fname"},{default:n(()=>[s(u,{modelValue:l(t).fname,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).fname=o)},null,8,["modelValue"])]),_:1})]),a("div",Ce,[s(i,{label:"Middle",name:"md"},{default:n(()=>[s(u,{modelValue:l(t).mi,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).mi=o)},null,8,["modelValue"])]),_:1})]),a("div",ge,[s(i,{label:"Last",name:"lname"},{default:n(()=>[s(u,{modelValue:l(t).lname,"onUpdate:modelValue":e[3]||(e[3]=o=>l(t).lname=o)},null,8,["modelValue"])]),_:1})]),a("div",Ue,[s(i,{label:"Title",name:"title"},{default:n(()=>[s(u,{modelValue:l(t).title,"onUpdate:modelValue":e[4]||(e[4]=o=>l(t).title=o)},null,8,["modelValue"])]),_:1})]),a("div",he,[s(i,{label:"Position",name:"position"},{default:n(()=>[s(u,{modelValue:l(t).position,"onUpdate:modelValue":e[5]||(e[5]=o=>l(t).position=o)},null,8,["modelValue"])]),_:1})])]),a("div",Oe,[a("div",Me,[s(i,{label:"Market",name:"market"},{default:n(()=>[s(_,{modelValue:l(t).market,"onUpdate:modelValue":e[6]||(e[6]=o=>l(t).market=o),query:l(t).market,"onUpdate:query":e[7]||(e[7]=o=>l(t).market=o),options:l(U)},null,8,["modelValue","query","options"])]),_:1})]),a("div",Se,[s(i,{label:"Number",name:"number"},{default:n(()=>[s(u,{modelValue:l(t).number,"onUpdate:modelValue":e[8]||(e[8]=o=>l(t).number=o)},null,8,["modelValue"])]),_:1})]),a("div",ke,[s(i,{label:"Profession",name:"profession"},{default:n(()=>[s(_,{modelValue:l(t).source,"onUpdate:modelValue":e[9]||(e[9]=o=>l(t).source=o),query:l(t).source,"onUpdate:query":e[10]||(e[10]=o=>l(t).source=o),options:l(V)},null,8,["modelValue","query","options"])]),_:1})]),a("div",De,[s(i,{label:"Category",name:"categories"},{default:n(()=>[s(_,{modelValue:l(t).ParadynamixCatagory,"onUpdate:modelValue":e[11]||(e[11]=o=>l(t).ParadynamixCatagory=o),query:l(t).ParadynamixCatagory,"onUpdate:query":e[12]||(e[12]=o=>l(t).ParadynamixCatagory=o),options:l(h)},null,8,["modelValue","query","options"])]),_:1})]),a("div",Ee,[s(i,{label:"Conferences",name:"conferences"},{default:n(()=>[s(_,{modelValue:l(t).SourceConfrence,"onUpdate:modelValue":e[13]||(e[13]=o=>l(t).SourceConfrence=o),query:l(t).SourceConfrence,"onUpdate:query":e[14]||(e[14]=o=>l(t).SourceConfrence=o),options:l(O)},null,8,["modelValue","query","options"])]),_:1})])]),Re,a("div",Te,[a("div",Ne,[a("div",Ae,[a("div",Ie,[a("div",qe,[s(i,{label:"Company1",name:"company1"},{default:n(()=>[s(u,{modelValue:l(t).company1,"onUpdate:modelValue":e[15]||(e[15]=o=>l(t).company1=o)},null,8,["modelValue"])]),_:1})]),a("div",Pe,[s(i,{label:"Company2",name:"company2"},{default:n(()=>[s(u,{modelValue:l(t).company2,"onUpdate:modelValue":e[16]||(e[16]=o=>l(t).company2=o)},null,8,["modelValue"])]),_:1})])]),a("div",$e,[a("div",Be,[s(i,{label:"Country",name:"country"},{default:n(()=>[s(u,{modelValue:l(t).country,"onUpdate:modelValue":e[17]||(e[17]=o=>l(t).country=o)},null,8,["modelValue"])]),_:1})])]),a("div",Fe,[a("div",Ge,[s(i,{label:"Address",name:"address"},{default:n(()=>[s(u,{modelValue:l(t).address,"onUpdate:modelValue":e[18]||(e[18]=o=>l(t).address=o)},null,8,["modelValue"])]),_:1})])]),a("div",je,[a("div",ze,[s(i,{label:"City",name:"city"},{default:n(()=>[s(u,{modelValue:l(t).city,"onUpdate:modelValue":e[19]||(e[19]=o=>l(t).city=o)},null,8,["modelValue"])]),_:1})]),a("div",Le,[s(i,{label:"State",name:"state"},{default:n(()=>[s(_,{modelValue:l(t).state,"onUpdate:modelValue":e[20]||(e[20]=o=>l(t).state=o),options:l(v)},null,8,["modelValue","options"])]),_:1})]),a("div",Qe,[s(i,{label:"Zip",name:"zip"},{default:n(()=>[s(u,{modelValue:l(t).zip,"onUpdate:modelValue":e[21]||(e[21]=o=>l(t).zip=o)},null,8,["modelValue"])]),_:1})])]),a("div",We,[a("div",He,[s(i,{label:"Fax",name:"fax"},{default:n(()=>[s(u,{modelValue:l(t).fax,"onUpdate:modelValue":e[22]||(e[22]=o=>l(t).fax=o)},null,8,["modelValue"])]),_:1})]),a("div",Ke,[s(i,{label:"Homephone",name:"homephone"},{default:n(()=>[s(u,{modelValue:l(t).homephone,"onUpdate:modelValue":e[23]||(e[23]=o=>l(t).homephone=o)},null,8,["modelValue"])]),_:1})])]),a("div",Ye,[a("div",Ze,[s(i,{label:"Email",name:"email"},{default:n(()=>[s(u,{modelValue:l(t).email,"onUpdate:modelValue":e[24]||(e[24]=o=>l(t).email=o),type:"email"},null,8,["modelValue"])]),_:1})]),a("div",Je,[s(i,{label:"Workphone",name:"workphone"},{default:n(()=>[s(u,{modelValue:l(t).workphone,"onUpdate:modelValue":e[25]||(e[25]=o=>l(t).workphone=o)},null,8,["modelValue"])]),_:1})]),a("div",Xe,[s(i,{label:"Ext",name:"ext"},{default:n(()=>[s(u,{modelValue:l(t).Extension,"onUpdate:modelValue":e[26]||(e[26]=o=>l(t).Extension=o)},null,8,["modelValue"])]),_:1})])]),a("div",el,[a("div",ll,[s(i,{label:"Website",name:"website"},{default:n(()=>[s(u,{modelValue:l(t).website,"onUpdate:modelValue":e[27]||(e[27]=o=>l(t).website=o)},null,8,["modelValue"])]),_:1})]),a("div",ol,[s(i,{label:"Cellphone",name:"cellphone"},{default:n(()=>[s(u,{modelValue:l(t).cellphone,"onUpdate:modelValue":e[28]||(e[28]=o=>l(t).cellphone=o)},null,8,["modelValue"])]),_:1})])]),a("div",sl,[a("div",tl,[s(i,{label:"Comment",name:"comment"},{default:n(()=>[s(z,{modelValue:l(t).notes,"onUpdate:modelValue":e[29]||(e[29]=o=>l(t).notes=o),rows:3,type:"text"},null,8,["modelValue"])]),_:1})])])])]),a("div",al,[a("div",nl,[a("div",il,[a("div",dl,[s(i,{label:"Attn",name:"attn"},{default:n(()=>[s(u,{modelValue:l(t).attn,"onUpdate:modelValue":e[30]||(e[30]=o=>l(t).attn=o)},null,8,["modelValue"])]),_:1})])]),a("div",ul,[a("div",ml,[s(i,{label:"Company1",name:"billcompany1"},{default:n(()=>[s(u,{modelValue:l(t).billcompany1,"onUpdate:modelValue":e[31]||(e[31]=o=>l(t).billcompany1=o)},null,8,["modelValue"])]),_:1})]),a("div",rl,[s(i,{label:"Company2",name:"billcompany2"},{default:n(()=>[s(u,{modelValue:l(t).billcompany2,"onUpdate:modelValue":e[32]||(e[32]=o=>l(t).billcompany2=o)},null,8,["modelValue"])]),_:1})])]),a("div",pl,[a("div",cl,[s(i,{label:"Country",name:"country"},{default:n(()=>[s(u,{modelValue:l(t).billcountry,"onUpdate:modelValue":e[33]||(e[33]=o=>l(t).billcountry=o)},null,8,["modelValue"])]),_:1})])]),a("div",fl,[a("div",bl,[s(i,{label:"Address",name:"address"},{default:n(()=>[s(u,{modelValue:l(t).billaddress,"onUpdate:modelValue":e[34]||(e[34]=o=>l(t).billaddress=o)},null,8,["modelValue"])]),_:1})])]),a("div",_l,[a("div",xl,[s(i,{label:"City",name:"billcity"},{default:n(()=>[s(u,{modelValue:l(t).billcity,"onUpdate:modelValue":e[35]||(e[35]=o=>l(t).billcity=o)},null,8,["modelValue"])]),_:1})]),a("div",Vl,[s(i,{label:"State",name:"billstate"},{default:n(()=>[s(_,{modelValue:l(t).billstate,"onUpdate:modelValue":e[36]||(e[36]=o=>l(t).billstate=o),options:l(v)},null,8,["modelValue","options"])]),_:1})]),a("div",vl,[s(i,{label:"Zip",name:"billzip"},{default:n(()=>[s(u,{modelValue:l(t).billzip,"onUpdate:modelValue":e[37]||(e[37]=o=>l(t).billzip=o)},null,8,["modelValue"])]),_:1})])]),a("div",yl,[a("div",wl,[s(i,{label:"Fax",name:"billfax"},{default:n(()=>[s(u,{modelValue:l(t).billfax,"onUpdate:modelValue":e[38]||(e[38]=o=>l(t).billfax=o)},null,8,["modelValue"])]),_:1})]),a("div",Cl,[s(i,{label:"Phone",name:"billphone"},{default:n(()=>[s(u,{modelValue:l(t).billphone,"onUpdate:modelValue":e[39]||(e[39]=o=>l(t).billphone=o)},null,8,["modelValue"])]),_:1})])]),a("div",gl,[a("div",Ul,[s(i,{label:"Ext",name:"ExtensionBill"},{default:n(()=>[s(u,{modelValue:l(t).ExtensionBill,"onUpdate:modelValue":e[40]||(e[40]=o=>l(t).ExtensionBill=o)},null,8,["modelValue"])]),_:1})])])])])]),a("div",hl,[s(f,{color:"cyan",variant:"outline",type:"submit",icon:r.selectedCustomer!==null?"i-heroicons-pencil-square":"i-heroicons-plus",label:r.selectedCustomer!==null?"Modify Customer":"Add Customer"},null,8,["icon","label"]),s(f,{color:"red",variant:"outline",label:r.isModal?"Cancel":"Go back",onClick:q},null,8,["label"])])]),_:1},8,["state"]),r.selectedCustomer!==null?(w(),M("div",Ol,[a("div",null,[Ml,a("div",Sl,[s(f,{label:"View Serial Record",color:"green",variant:"outline",icon:"i-heroicons-eye",ui:{base:"w-full",truncate:"flex justify-center w-full"}})])]),a("div",kl,[Dl,a("div",El,[a("div",Rl,[s(f,{label:"Label",color:"green",variant:"outline",icon:"i-heroicons-tag",ui:{base:"w-full",truncate:"flex justify-center w-full"}})]),a("div",Tl,[s(f,{label:"Order",color:"green",variant:"outline",icon:"i-heroicons-shopping-cart",ui:{base:"w-full",truncate:"flex justify-center w-full"},onClick:e[41]||(e[41]=o=>$())})]),a("div",Nl,[s(f,{label:"Quote",color:"green",variant:"outline",icon:"i-heroicons-currency-dollar",ui:{base:"w-full",truncate:"flex justify-center w-full"},onClick:e[42]||(e[42]=o=>B())})]),a("div",Al,[s(f,{label:"Service Order",color:"green",variant:"outline",icon:"i-heroicons-chat-bubble-left-ellipsis",ui:{base:"w-full",truncate:"flex justify-center w-full"},onClick:e[43]||(e[43]=o=>F())})]),a("div",Il,[s(f,{label:"Site Visit",color:"green",variant:"outline",icon:"i-heroicons-clipboard-document-list",ui:{base:"w-full",truncate:"flex justify-center w-full"},onClick:e[44]||(e[44]=o=>G())})])])])])):oe("",!0),s(y,{modelValue:l(m).isOrderDetailModalOpen,"onUpdate:modelValue":e[46]||(e[46]=o=>l(m).isOrderDetailModalOpen=o),title:"Invoice",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[s(Q,{"selected-customer":r.selectedCustomer,onClose:e[45]||(e[45]=o=>l(m).isOrderDetailModalOpen=!1)},null,8,["selected-customer"])]),_:1},8,["modelValue"]),s(y,{modelValue:l(m).isQuoteDetailModalOpen,"onUpdate:modelValue":e[47]||(e[47]=o=>l(m).isQuoteDetailModalOpen=o),title:"Quote",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1000px] sm:max-w-7xl"}},{default:n(()=>[s(W,{"selected-customer":r.selectedCustomer},null,8,["selected-customer"])]),_:1},8,["modelValue"]),s(y,{modelValue:l(m).isServiceOrderDetailModalOpen,"onUpdate:modelValue":e[48]||(e[48]=o=>l(m).isServiceOrderDetailModalOpen=o),title:"Service Order",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[s(H,{"selected-customer":r.selectedCustomer,"form-action":l(T),"selected-complaint":null,"selected-order":null,"selected-serial":null},null,8,["selected-customer","form-action"])]),_:1},8,["modelValue"]),s(y,{modelValue:l(m).isSiteVisitModalOpen,"onUpdate:modelValue":e[49]||(e[49]=o=>l(m).isSiteVisitModalOpen=o),title:"Site Visit",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:n(()=>[s(K,{"selected-customer":r.selectedCustomer},null,8,["selected-customer"])]),_:1},8,["modelValue"])],64))],64)}}});export{Wl as _};
