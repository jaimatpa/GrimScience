import{_ as Ze,L as et,M as ue,d as ce,N as tt,O as me,J as lt,k as _e,Q as at,R as st,o as _,c as h,h as e,bW as ot,bM as it,K as H,A as G,S as xe,G as ge,z as q,y as re,j as we,r as m,m as ke,V as Ie,f as s,g as l,p as Re,w as c,v as te,x as N,F,e as ee,s as Ce,q as nt}from"./RPcYXXev.js";import{f as he,_ as rt,a as dt}from"./CZ9EiQCe.js";import{u as ut,_ as Pe,a as Se,b as Ee}from"./Crp9aCmO.js";import{u as ct}from"./B4XmkEM1.js";import{a as De,b as Ae,_ as ft}from"./Be2iH8Rx.js";import{_ as Te}from"./C1sp2X5w.js";import{_ as Oe}from"./OsgMrgDf.js";import{_ as pt}from"./BQUlXvKt.js";import{_ as vt}from"./D923ZLaS.js";import{_ as bt}from"./N6g2mK6h.js";import{L as Me,u as R}from"./BqkbertX.js";const yt={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-radio",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},de=et(ue.ui.strategy,ue.ui.radio,yt),mt=ce({inheritAttrs:!1,props:{id:{type:String,default:null},value:{type:[String,Number,Boolean],default:null},modelValue:{type:[String,Number,Boolean,Object],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>de.default.color,validator(u){return ue.ui.colors.includes(u)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(u,{emit:E}){const{ui:w,attrs:A}=tt("radio",me(u,"ui"),de,me(u,"class")),P=u.id??ct("$9ml2Pv5YlC"),b=lt("radio-group",null),{emitFormChange:x,color:i,name:C}=b??ut(u,de),y=_e({get(){return u.modelValue},set(p){E("update:modelValue",p),b||x()}});function v(p){E("change",p.target.value)}const g=_e(()=>at(st(w.value.base,w.value.form,w.value.background,w.value.border,i.value&&w.value.ring.replaceAll("{color}",i.value),i.value&&w.value.color.replaceAll("{color}",i.value)),u.inputClass));return{inputId:P,ui:w,attrs:A,pick:y,name:C,inputClass:g,onChange:v}}}),_t=["data-n-ids"],xt=["id","name","required","value","disabled"],gt=["for"];function ht(u,E,w,A,P,b){return _(),h("div",{class:G(u.ui.wrapper),"data-n-ids":u.attrs["data-n-ids"]},[e("div",{class:G(u.ui.container)},[ot(e("input",H({id:u.inputId,"onUpdate:modelValue":E[0]||(E[0]=x=>u.pick=x),name:u.name,required:u.required,value:u.value,disabled:u.disabled,type:"radio",class:u.inputClass},u.attrs,{onChange:E[1]||(E[1]=(...x)=>u.onChange&&u.onChange(...x))}),null,16,xt),[[it,u.pick]])],2),u.label||u.$slots.label?(_(),h("div",{key:0,class:G(u.ui.inner)},[e("label",{for:u.inputId,class:G(u.ui.label)},[xe(u.$slots,"label",{label:u.label},()=>[ge(q(u.label),1)]),u.required?(_(),h("span",{key:0,class:G(u.ui.required)},"*",2)):re("",!0)],10,gt),u.help||u.$slots.help?(_(),h("p",{key:0,class:G(u.ui.help)},[xe(u.$slots,"help",{help:u.help},()=>[ge(q(u.help),1)])],2)):re("",!0)],2)):re("",!0)],10,_t)}const Ve=Ze(mt,[["render",ht]]),wt={class:"vl-parent"},kt={class:"flex flex-col"},It={class:"flex justify-between px-4 py-2 gmsBlueTitlebar"},Rt=e("h2",{class:"flex items-center"},"Lookup",-1),Ct={class:"flex flex-row space-x-5"},Pt={class:"flex flex-row space-x-3"},St={class:"flex items-center"},Et={class:"min-w-[150px]"},Dt={class:"px-4 py-2"},At={key:0,class:"px-1 py-1 min-w-[150px]"};const Tt={key:1,class:"px-1 py-1"},Ot=e("div",{class:"flex justify-between px-4 py-2 gmsBlueTitlebar"},[e("h2",null,"Non Conformance")],-1),Mt={class:"flex flex-col space-y-3 px-4 py-2"},Vt={class:"flex flex-row space-x-9"},Ut={class:"flex flex-row space-x-3"},Nt={class:"flex items-end min-w-[100px]"},$t={class:"flex items-end min-w-[100px]"},qt={class:"flex-1"},Ft={class:"flex justify-between space-x-3"},Gt={class:"w-full"},jt={class:"w-full"},Yt={class:"flex flex-col justify-between"},Wt={class:"flex gap-5"},Bt=e("div",{class:"flex justify-between px-4 py-2 gmsBlueTitlebar"},[e("h2",null,"Tag Entries")],-1),Lt={class:"flex flex-row space-x-3 px-4 py-2"},Ht={class:"basis-3/4"},Qt={key:0,class:"px-1 py-1"},Jt={key:1,class:"px-1 py-1"},zt={class:"basis-1/4 flex flex-col space-y-2"},Kt={class:"flex flex-row space-x-2"},Xt={class:"basis-3/4 w-full"},Zt={class:"basis-1/4 w-full"},el={class:"flex flex-row space-x-2"},tl={class:"basis-1/2 w-full"},ll={class:"basis-1/2 w-full"},al={class:"flex justify-end"},sl={class:"basis-1/2"},ol={class:"flex flex-col space-y-2"},il={class:"w-full"},nl={class:"flex flex-row space-x-3"},rl={class:"basis-1/2 w-full"},dl={class:"basis-1/2 w-full"},ul={class:"flex flex-row space-x-3"},cl={class:"basis-1/2 w-full"},fl={class:"basis-1/2 w-full"},pl=ce({__name:"Detail",props:{selectedNonConformance:{type:[Number,String,null]}},emits:["close","link"],setup(u,{emit:E}){const w=E,A=u;we();const P=m(!1),b=ke({uniqueID:null,SERIAL:null,STATUS:null,TAGASSIGNEDTO:null,TAGLOCATION:null,PARTS:null,DISPOSITION:null,Justification:null,OpenClosed:null}),x=m({poNum:0,on:0,serviceReportNum:0,jobNum:0,investigationNum:0}),i=m({defaultColumns:[{key:"uniqueID",label:"Number",filterable:!0},{key:"STATUS",label:"Status",filterable:!0,filterOptions:[]},{key:"TAGASSIGNEDTO",label:"Assigned To",filterable:!0,filterOptions:[]},{key:"TAGLOCATION",label:"Locastion",filterable:!0,filterOptions:[]},{key:"PARTS",label:"Description",filterable:!0},{key:"COMPLAINTNUMBER",label:"SO#",filterable:!0},{key:"SERVICEREPORT",label:"Service Report#",filterable:!0},{key:"JobNum",label:"Job#",filterable:!0},{key:"InvestigationNum",label:"Inv#",filterable:!0}],nonConformances:[],selectedNonConformance:null,isLoading:!1}),C=m({defaultColumns:[{key:"DateTime",label:"Date",filterable:!0},{key:"ReceivedQty",label:"Qty",filterable:!0},{key:"ByEmployee",label:"By",filterable:!0,filterOptions:[]},{key:"Status",label:"Status",filterable:!0,filterOptions:[]},{key:"AssignedtoEmploye",label:"Assigned To",filterable:!0,filterOptions:[]},{key:"Location",label:"Location",filterable:!0,filterOptions:[]}],tagEntries:[],selectedTagEntry:null,isLoading:!1}),y=m({uniqueID:null,STATUS:null,TAGASSIGNEDTO:null,TAGLOCATION:null,PARTS:null,COMPLAINTNUMBER:null,SERVICEREPORT:null,JobNum:null,InvestigationNum:null,OpenClosed:null}),v=m([{value:"Open",label:"Open"},{value:"Closed",label:"Closed"}]),g=async()=>{P.value=!0,await p()},p=async()=>{P.value=!0,await O(),P.value=!1},O=async()=>{await R("/api/engineering/nonconformances",{method:"GET",params:{...y.value},onResponse({response:k}){k.status===200&&(i.value.nonConformances=k._data.body)}})},M=async(k,n)=>{y.value.hasOwnProperty(n)?y.value[n]=k:console.error(`Filter does not have property: ${n}`),await O()},$=async k=>{i.value.selectedNonConformance={...k,class:""},i.value.nonConformances.forEach(n=>{n.uniqueID===k.uniqueID?n.class="bg-gray-200":delete n.class})},le=()=>{var k;w("link",(k=i.value.selectedNonConformance)==null?void 0:k.uniqueID),w("close")},ae=k=>[];async function se(k){w("close")}return Ie(()=>y.value.OpenClosed,()=>{O()}),A.selectedNonConformance?g():p(),(k,n)=>{const j=bt,I=Ce,Y=De,Q=Oe,W=Ae,T=Pe,S=Se,B=Te,J=Ve,oe=Ee;return _(),h(F,null,[e("div",wt,[s(l(Me),{active:l(P),"onUpdate:active":n[0]||(n[0]=d=>Re(P)?P.value=d:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),s(oe,{validate:ae,"validate-on":["submit"],state:l(b),onSubmit:se},{default:c(()=>[e("div",kt,[e("div",It,[Rt,e("div",Ct,[e("div",Pt,[e("div",St,[s(j,{modelValue:l(y).OpenClosed,"onUpdate:modelValue":n[1]||(n[1]=d=>l(y).OpenClosed=d),label:"Open",class:""},null,8,["modelValue"])]),e("div",Et,[s(I,{icon:"i-heroicons-eye",label:"Summary",variant:"outline",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})])])])]),e("div",Dt,[s(W,{rows:l(i).nonConformances,columns:l(i).defaultColumns,loading:l(i).isLoading,class:"w-full",ui:{wrapper:"overflow-auto h-60 border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{base:"h-[31px]",padding:"py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},onSelect:$,onDblclick:le},te({_:2},[N(l(i).defaultColumns,d=>({name:`${d.key}-header`,fn:c(()=>[d.filterOptions?(_(),h("div",Tt,[s(Q,{onHandleSelectChange:M,label:d.label,filterable:d.filterable,"filter-key":d.key,"filter-options":d.filterOptions},null,8,["label","filterable","filter-key","filter-options"])])):(_(),h(F,{key:0},[(d.key,_(),h("div",At,[s(Y,{onHandleInputChange:M,label:d.label,filterable:d.filterable,"filter-key":d.key},null,8,["label","filterable","filter-key"])]))],64))])}))]),1032,["rows","columns","loading"])])]),Ot,e("div",Mt,[e("div",Vt,[s(S,{label:"NonConformance#"},{default:c(()=>[s(T,{modelValue:l(b).uniqueID,"onUpdate:modelValue":n[2]||(n[2]=d=>l(b).uniqueID=d)},null,8,["modelValue"])]),_:1}),e("div",Ut,[s(S,{label:"Serial/Part#"},{default:c(()=>[s(T,{modelValue:l(b).SERIAL,"onUpdate:modelValue":n[3]||(n[3]=d=>l(b).SERIAL=d)},null,8,["modelValue"])]),_:1}),e("div",Nt,[s(I,{label:"Find",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})]),e("div",$t,[s(I,{label:"Find Part",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})])]),e("div",qt,[s(S,{label:"Description"},{default:c(()=>[s(T,{modelValue:l(b).PARTS,"onUpdate:modelValue":n[4]||(n[4]=d=>l(b).PARTS=d)},null,8,["modelValue"])]),_:1})])]),e("div",Ft,[e("div",Gt,[s(S,{label:"Disposition Determination(Per Tag)"},{default:c(()=>[s(B,{"model-value":l(b).DISPOSITION,"onUpdate:modelValue":n[5]||(n[5]=d=>l(b).DISPOSITION=d),rows:3},null,8,["model-value"])]),_:1})]),e("div",jt,[s(S,{label:"Justification(Per Tag)"},{default:c(()=>[s(B,{"model-value":l(b).Justification,"onUpdate:modelValue":n[6]||(n[6]=d=>l(b).Justification=d),rows:3},null,8,["model-value"])]),_:1})]),e("div",Yt,[e("div",Wt,[(_(!0),h(F,null,N(l(v),d=>(_(),ee(J,H({key:d.value,modelValue:l(b).OpenClosed,"onUpdate:modelValue":n[7]||(n[7]=ie=>l(b).OpenClosed=ie),ref_for:!0},d,{class:"pb-3"}),null,16,["modelValue"]))),128))]),e("div",null,[s(I,{icon:"i-heroicons-document-text",label:"Save",color:"green",variant:"outline",ui:{base:"min-w-[200px]",truncate:"flex justify-center w-full"},truncate:""})])])])]),Bt,e("div",Lt,[e("div",Ht,[s(W,{rows:l(C).tagEntries,columns:l(C).defaultColumns,loading:l(C).isLoading,class:"w-full",ui:{wrapper:"overflow-auto h-[300px] border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{base:"h-[31px]",padding:"py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}},te({_:2},[N(l(C).defaultColumns,d=>({name:`${d.key}-header`,fn:c(()=>[d.filterOptions?(_(),h("div",Jt,[s(Q,{onHandleSelectChange:M,label:d.label,filterable:d.filterable,"filter-key":d.key,"filter-options":d.filterOptions},null,8,["label","filterable","filter-key","filter-options"])])):(_(),h("div",Qt,[s(Y,{onHandleInputChange:M,label:d.label,filterable:d.filterable,"filter-key":d.key},null,8,["label","filterable","filter-key"])]))])}))]),1032,["rows","columns","loading"])]),e("div",zt,[e("div",Kt,[e("div",Xt,[s(S,{label:"PO#"},{default:c(()=>[s(T,{modelValue:l(x).poNum,"onUpdate:modelValue":n[8]||(n[8]=d=>l(x).poNum=d)},null,8,["modelValue"])]),_:1})]),e("div",Zt,[s(S,{label:"PO#"},{default:c(()=>[s(T,{modelValue:l(x).on,"onUpdate:modelValue":n[9]||(n[9]=d=>l(x).on=d)},null,8,["modelValue"])]),_:1})])]),e("div",el,[e("div",tl,[s(S,{label:"SO#/SR#"},{default:c(()=>[s(T,{modelValue:l(x).serviceReportNum,"onUpdate:modelValue":n[10]||(n[10]=d=>l(x).serviceReportNum=d)},null,8,["modelValue"])]),_:1})]),e("div",ll,[s(S,{label:"PJob#"},{default:c(()=>[s(T,{modelValue:l(x).jobNum,"onUpdate:modelValue":n[11]||(n[11]=d=>l(x).jobNum=d)},null,8,["modelValue"])]),_:1})])]),e("div",al,[e("div",sl,[s(S,{label:"Investigation"},{default:c(()=>[s(T,{modelValue:l(x).investigationNum,"onUpdate:modelValue":n[12]||(n[12]=d=>l(x).investigationNum=d)},null,8,["modelValue"])]),_:1})])]),e("div",ol,[e("div",il,[s(I,{icon:"i-heroicons-plus",label:"Receive/Add",variant:"outline",color:"green",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})]),e("div",nl,[e("div",rl,[s(I,{icon:"i-heroicons-minus-circle",label:"Delete",variant:"outline",color:"red",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})]),e("div",dl,[s(I,{icon:"i-f7-rays",label:"Clear",variant:"outline",color:"red",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})])]),e("div",ul,[e("div",cl,[s(I,{icon:"i-heroicons-plus",label:"View Non-Conformance",variant:"outline",color:"green",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})]),e("div",fl,[s(I,{icon:"i-heroicons-plus",label:"Print Label",variant:"outline",color:"green",ui:{base:"min-w-[200px] w-full",truncate:"flex justify-center w-full"},truncate:""})])])])])])]),_:1},8,["state"])],64)}}}),vl=nt(rt),bl={class:"vl-parent"},yl={class:"flex flex-row"},ml={class:"basis-2/3 border-[1px] border-slate-600 border-t-0 border-l-0 border-b-0 pb-2"},_l=e("div",{class:"w-full px-3 py-1 bg-slate-400"}," Service Report ",-1),xl={class:"flex flex-row space-x-4 px-2 pr-7 pt-2"},gl={class:"basis-2/3 flex flex-col space-y-1"},hl={class:"flex flex-row space-x-5"},wl={class:"basis-1/2"},kl={class:"flex flex-row space-x-2 px-2 pt-1"},Il=e("div",{class:"font-medium"}," Report ",-1),Rl={class:"basis-1/2"},Cl={class:"flex flex-row space-x-2"},Pl={class:"basis-1/2"},Sl={class:"flex flex-row"},El=e("div",{class:"w-[50px] font-medium flex items-center"}," Date ",-1),Dl={class:"flex-1"},Al={class:"basis-1/2"},Tl={class:"flex flex-row"},Ol=e("div",{class:"w-[50px] font-medium flex items-center"}," Week ",-1),Ml={class:"flex-1"},Vl={class:"flex flex-row space-x-5"},Ul={class:"basis-1/2 flex items-center w-full border-[1px] border-slate-200 px-3 py-1"},Nl={class:"flex justify-between w-full"},$l={class:"basis-1/2"},ql={class:"flex justify-between"},Fl=e("div",{class:"min-w-[80px] font-medium flex items-center"}," Service Tech ",-1),Gl={class:"flex flex-row space-x-5"},jl={class:"basis-1/2 flex items-center w-full border-[1px] border-slate-200 p-3"},Yl={class:"flex flex-col space-y-1"},Wl={class:"flex justify-between w-full"},Bl={class:"flex flex-row"},Ll=e("div",{class:"w-[90px] font-medium flex items-center"}," Factory Hrs ",-1),Hl={class:"flex-1"},Ql={class:"basis-1/2"},Jl={class:"flex flex-col space-y-1 border-[1px] border-slate-200 p-1 mt-1"},zl={class:"flex flex-row space-x-3"},Kl={class:"basis-1/2"},Xl={class:"flex flex-row"},Zl=e("div",{class:"w-[80px] font-medium flex items-center"}," Travel Hrs ",-1),ea={class:"flex-1"},ta={class:"basis-1/2"},la={class:"flex flex-row"},aa=e("div",{class:"w-[80px] font-medium flex items-center"}," Miles ",-1),sa={class:"flex-1"},oa={class:"flex flex-row space-x-3"},ia={class:"basis-1/2"},na={class:"flex flex-row"},ra=e("div",{class:"w-[80px] font-medium flex items-center"}," Onsite Hrs ",-1),da={class:"flex-1"},ua={class:"basis-1/2"},ca={class:"flex flex-row"},fa=e("div",{class:"w-[80px] font-medium flex items-center"}," Per Diem ",-1),pa={class:"flex-1"},va={class:"flex flex-row space-x-2 pl-3"},ba=e("div",{class:"min-w-[80px] font-medium flex items-center"}," Description ",-1),ya={class:"flex-1"},ma={class:"basis-1/3"},_a={class:"border-[1px] border-slate-200 p-2 pb-3"},xa={class:"flex flex-row space-x-5"},ga={class:"basis-1/3"},ha=e("div",{class:"w-full px-3 py-1 bg-slate-400"}," Invoice ",-1),wa={class:"p-2 pl-7"},ka=e("div",null,null,-1),Ia={class:"flex flex-row space-x-2 mt-2"},Ra={class:"basis-1/3 w-full"},Ca={class:"basis-1/3 w-full"},Pa={class:"basis-1/3 w-full"},Sa={class:"flex flex-col"},Ea=e("div",{class:"w-full px-3 py-1 bg-slate-400"}," Warranty Material ",-1),Da={class:"flex flex-row space-x-3 p-2"},Aa={class:"w-1/2 mt-4"},Ta={key:0,class:"px-1 py-1"},Oa={key:1,class:"px-1 py-1 min-w-[120px]"},Ma={class:"w-[50px]"},Va=e("div",null,null,-1),Ua={class:"w-1/2"},Na={class:"flex flex-row space-x-4 py-1"},$a={class:"basis-1/4 flex items-center"},qa={class:"flex flex-row space-x-2"},Fa=e("div",{class:"flex-1 flex items-center"}," Ship Date ",-1),Ga={class:"min-w-[120px] flex items-center"},ja={class:"w-full"},Ya={class:"basis-1/4 flex items-center"},Wa={class:"flex flex-row space-x-2"},Ba=e("div",{class:"flex-1 flex items-center"}," Shipping ",-1),La={class:"min-w-[60px]"},Ha={class:"basis-1/4 flex items-center"},Qa={class:"flex flex-row w-full"},Ja=e("div",{class:"flex-1 flex items-center"}," Total ",-1),za={class:"min-w-[80px]"},Ka={class:"basis-1/4 w-full"},Xa=e("div",null,null,-1),Za={class:"flex flex-col"},es=e("div",{class:"w-full px-3 py-1 bg-slate-400"}," Parts Received ",-1),ts={class:"flex flex-row space-x-3 p-2"},ls={class:"w-1/2"},as={key:0,class:"px-1 py-1"},ss={key:1,class:"px-1 py-1 min-w-[120px]"},os={class:"w-[50px]"},is=e("div",null,null,-1),ns=e("div",{class:"italic"}," Parts(Double-Click To Select) ",-1),rs={class:"w-1/2"},ds=e("div",null,null,-1),us=e("div",{class:"italic"}," Singleclick to Select Part for Non-Conformamce, Double Click to View ",-1),cs={class:"flex justify-between px-2"},fs={class:"basis-1/6 w-full"},ps={class:"basis-1/6 w-full"},vs={class:"basis-1/6 w-full"},bs={class:"basis-1/6 w-full"},ys={class:""},ms={class:"min-w-[100px]"},_s={class:"flex justify-between font-medium"},xs=e("div",{class:"flex items-center"}," Total: ",-1),gs={class:"flex items-center"},hs={class:"flex flex-row space-x-5"},ws=e("div",{class:"flex items-center"},"Quantity: ",-1),ks={class:"flex-1 mr-4"},Is={class:"flex flex-row-reverse mt-2"},Rs={class:"min-w-[60px]"},Cs={class:"min-w-[60px] mr-3"},K="i-heroicons-bars-arrow-up-20-solid",X="i-heroicons-bars-arrow-down-20-solid",Z="i-heroicons-arrows-up-down-20-solid",$s=ce({__name:"ServiceReportDetail",props:{selectedComplaint:{type:[Number,String,null],required:!0},selectedServiceReport:{type:[Number,String,null]}},emits:["close","save"],setup(u,{emit:E}){const w=E,A=u,P=we(),b=m(!1),x=m("0.00"),i=ke({uniqueID:null,REPAIRSMADE:null,REPAIRDESC:null,REPAIRDATE:new Date,REPAIRSBY:null,CANO:null,COMPLAINTID:A.selectedComplaint,Week:null,ServiceStatus:null,type:0,FactoryHours:null,TravelHours:0,OnsiteHours:0,Miles:null,PerDiem:null,performs_to_spec:null,performsnotext:null,Shipping:null,DATESHIPPED:null,PARTS:null,PARTSRECEIVED:null}),C=m({defaultColumns:[{key:"orderdate",label:"Date"},{key:"invoicenumber",label:"Invoice#"},{key:"terms",label:"Terms"}],invoices:[],selectedInvoice:null,isLoading:!1}),y=m({defaultColumns:[{key:"PARTTYPE",label:"Category",filterable:!0,filterOptions:[]},{key:"SUBCATEGORY",label:"Sub Category",filterable:!0,filterOptions:[]},{key:"MODEL",label:"Stock#",filterable:!0},{key:"DESCRIPTION",label:"Description",filterable:!0},{key:"OnHand",label:"Current On Hand"}],sort:{column:"UniqueID",direction:"asc"},warrantyMaterials:[],selectedWarrantyMaterial:null,isLoading:!1}),v=m({defaultColumns:[{key:"Quantity",label:"QTY"},{key:"MODEL",label:"Stock#"},{key:"DESCRIPTION",label:"Description"},{key:"PRIMARYPRICE1",label:"Cost"},{key:"UNIT",label:"Unit"},{key:"Amount",label:"Amount"}],warrantyMaterials:[],selectedWarrantyMaterial:null,isLoading:!1}),g=m({defaultColumns:[{key:"PARTTYPE",label:"Category",filterable:!0,filterOptions:[]},{key:"SUBCATEGORY",label:"Sub Category",filterable:!0,filterOptions:[]},{key:"MODEL",label:"Stock#",filterable:!0},{key:"DESCRIPTION",label:"Description",filterable:!0},{key:"OnHand",label:"Current On Hand"}],sort:{column:"UniqueID",direction:"asc"},parts:[],selectedPart:null,isLoading:!1}),p=m({defaultColumns:[{key:"Quantity",label:"Qty"},{key:"MODEL",label:"Stock#"},{key:"DESCRIPTION",label:"Description"},{key:"PRIMARYPRICE1",label:"Cost"},{key:"UNIT",label:"Unit"},{key:"Amount",label:"Amount"},{key:"Nonconformance",label:"NonConformance"}],parts:[],selectedPart:null,isLoading:!1}),O=m({PARTTYPE:null,SUBCATEGORY:null,MODEL:null,DESCRIPTION:null}),M=m({shipDate:null,shipping:null,total:0}),$=m({PARTTYPE:null,SUBCATEGORY:null,MODEL:null,DESCRIPTION:null}),le=m([{value:"open",label:"Open"},{value:"Closed",label:"Closed"}]),ae=m([{value:1,label:"Factory"},{value:2,label:"Customer"},{value:0,label:"Field"}]),se=m([{value:0,label:"Yes"},{value:1,label:"No"}]),k=m("outline-none"),n=m({isAddModalOpen:!1,title:null,quantity:1}),j=m({isNonConformanceModalOpen:!1}),I=m([]),Y=o=>{o=new Date(o);const t=24*60*60*1e3,r=new Date(o.getFullYear(),0,1),f=Math.floor((o.getTime()-r.getTime())/t);return Math.ceil((f+1)/7)},Q=async()=>{b.value=!0,await R("/api/service/servicereports",{method:"GET",params:{uniqueID:A.selectedServiceReport},onResponse({response:r}){if(r.status===200)for(const f in r._data.body[0])r._data.body[0][f]!==void 0&&f!=="DATESHIPPED"&&(i[f]=r._data.body[0][f])}});let o=[];if(i.PARTS){const r=i.PARTS.split("=");for(let f=0;f<r.length;f++)r[f]!==""&&f%3===0&&await R("/api/materials/parts/",{method:"GET",params:{UniqueID:r[f]},onResponse({response:D}){D.status===200&&o.push({...D._data.body[0],Quantity:r[f+1],Amount:Number.parseFloat(D._data.body[0].PRIMARYPRICE1||0)*Number.parseFloat(r[f+1])})}})}let t=[];if(i.PARTSRECEIVED){const r=i.PARTSRECEIVED.split("=");for(let f=0;f<r.length;f++)r[f]!==""&&f%3===0&&await R("/api/materials/parts/",{method:"GET",params:{UniqueID:r[f]},onResponse({response:D}){D.status===200&&t.push({...D._data.body[0],Quantity:r[f+1],Amount:Number.parseFloat(D._data.body[0].PRIMARYPRICE1||0)*Number.parseFloat(r[f+1]),Nonconformance:0})}})}v.value.warrantyMaterials=o,M.value.total=v.value.warrantyMaterials.reduce((r,f)=>r+parseFloat(f.Amount),0).toFixed(2),p.value.parts=t,x.value=p.value.parts.reduce((r,f)=>r+parseFloat(f.Amount),0).toFixed(2),await W()},W=async()=>{b.value=!0,await R("/api/materials/categories",{method:"GET",params:{partflag:1},onResponse({response:o}){o.status===200&&(y.value.defaultColumns.forEach(t=>{t.key==="PARTTYPE"&&(t.filterOptions=[null,...o._data.body])}),g.value.defaultColumns.forEach(t=>{t.key==="PARTTYPE"&&(t.filterOptions=[null,...o._data.body])}))}}),await R("/api/tbl/tblEmployee",{method:"GET",params:{ACTIVE:1,orderby:"payrollnumber"},onResponse({response:o}){o.status===200&&(I.value=o._data.body.map(t=>`#${t.payrollnumber}${t.fname} ${t.lname}`),I.value.indexOf(i.REPAIRSBY)<0&&i.REPAIRSBY!==null&&I.value.unshift(i.REPAIRSBY),I.value.unshift(null))}}),i.REPAIRDATE&&(i.REPAIRDATE=new Date(i.REPAIRDATE),i.Week=`${new Date(i.REPAIRDATE).getFullYear().toString().substring(2)}-${Y(i.REPAIRDATE)}`),b.value=!1},T=async()=>{await R("/api/materials/distinctparts",{method:"GET",params:{...O.value},onResponse({response:o}){o.status===200&&(y.value.warrantyMaterials=o._data.body)}}),await R("/api/materials/categories",{method:"GET",params:{partflag:1},onResponse({response:o}){o.status===200&&y.value.defaultColumns.forEach(t=>{t.key==="PARTTYPE"&&(t.filterOptions=[null,...o._data.body])})}}),await R("/api/materials/subcategories",{method:"GET",params:{category:O.value.PARTTYPE,partflag:1},onResponse({response:o}){o.status===200&&y.value.defaultColumns.forEach(t=>{t.key==="SUBCATEGORY"&&(t.filterOptions=[null,...o._data.body])})}})},S=async()=>{await R("/api/materials/distinctparts",{method:"GET",params:{...$.value},onResponse({response:o}){o.status===200&&(g.value.parts=o._data.body)}}),await R("/api/materials/categories",{method:"GET",params:{partflag:1},onResponse({response:o}){o.status===200&&g.value.defaultColumns.forEach(t=>{t.key==="PARTTYPE"&&(t.filterOptions=[null,...o._data.body])})}}),await R("/api/materials/subcategories",{method:"GET",params:{category:$.value.PARTTYPE,partflag:1},onResponse({response:o}){o.status===200&&g.value.defaultColumns.forEach(t=>{t.key==="SUBCATEGORY"&&(t.filterOptions=[null,...o._data.body])})}})},B=(o,t)=>{if(O.value.hasOwnProperty(t))O.value[t]=o;else return;T()},J=(o,t)=>{if($.value.hasOwnProperty(t))$.value[t]=o;else return;S()},oe=async o=>{JSON.stringify({...C.value.selectedInvoice,class:""})===JSON.stringify({...o,class:""})?C.value.selectedInvoice=null:C.value.selectedInvoice={...o,class:""},C.value.invoices.forEach(t=>{t.UniqueID===o.UniqueID&&o.class!="bg-gray-200"?t.class="bg-gray-200":delete t.class})},d=async o=>{y.value.selectedWarrantyMaterial={...o,class:""},y.value.warrantyMaterials.forEach(t=>{t.UniqueID===o.UniqueID?t.class="bg-gray-200":delete t.class})},ie=()=>{n.value.title="Warranty",n.value.quantity=1,n.value.isAddModalOpen=!0},Ue=async o=>{g.value.selectedPart={...o,class:""},g.value.parts.forEach(t=>{t.UniqueID===o.UniqueID?t.class="bg-gray-200":delete t.class})},Ne=()=>{n.value.title="Part",n.value.quantity=1,n.value.isAddModalOpen=!0},fe=()=>{if(n.value.quantity<=0){k.value="outline outline-2 outline-[red]";return}else k.value="outline-none";if(n.value.title==="Warranty"){if(v.value.warrantyMaterials.findIndex(t=>{var r;return(t==null?void 0:t.UniqueID)===((r=y.value.selectedWarrantyMaterial)==null?void 0:r.UniqueID)})<0){y.value.selectedWarrantyMaterial.PRIMARYPRICE1||(y.value.selectedWarrantyMaterial.PRIMARYPRICE1=0);let t=Math.round(Number.parseFloat(y.value.selectedWarrantyMaterial.PRIMARYPRICE1)*n.value.quantity*100)/100;v.value.warrantyMaterials.push({...y.value.selectedWarrantyMaterial,Quantity:n.value.quantity,Amount:t}),M.value.total=v.value.warrantyMaterials.reduce((r,f)=>r+parseFloat(f.Amount),0).toFixed(2)}}else if(n.value.title==="Part"){if(p.value.parts.findIndex(t=>{var r;return(t==null?void 0:t.UniqueID)===((r=g.value.selectedPart)==null?void 0:r.UniqueID)})<0){g.value.selectedPart.PRIMARYPRICE1||(g.value.selectedPart.PRIMARYPRICE1=0);let t=Math.round(Number.parseFloat(g.value.selectedPart.PRIMARYPRICE1)*n.value.quantity*100)/100;p.value.parts.push({...g.value.selectedPart,Quantity:n.value.quantity,Amount:t,Nonconformance:0}),x.value=p.value.parts.reduce((r,f)=>r+parseFloat(f.Amount),0).toFixed(2)}}else if(n.value.title==="EditWarranty"){v.value.selectedWarrantyMaterial.Quantity=n.value.quantity,v.value.selectedWarrantyMaterial.Amount=Math.round(Number.parseFloat(v.value.selectedWarrantyMaterial.PRIMARYPRICE1)*n.value.quantity*100)/100;const o=v.value.warrantyMaterials.findIndex(t=>(t==null?void 0:t.UniqueID)===v.value.selectedWarrantyMaterial.UniqueID);v.value.warrantyMaterials[o]=v.value.selectedWarrantyMaterial}else if(n.value.title==="EditPart"){p.value.selectedPart.Quantity=n.value.quantity,p.value.selectedPart.Amount=Math.round(Number.parseFloat(p.value.selectedPart.PRIMARYPRICE1)*n.value.quantity*100)/100;const o=p.value.parts.findIndex(t=>(t==null?void 0:t.UniqueID)===p.value.selectedPart.UniqueID);p.value.parts[o]=p.value.selectedPart}n.value.isAddModalOpen=!1,n.value.title=null},$e=o=>{v.value.selectedWarrantyMaterial={...o,class:""},v.value.warrantyMaterials.forEach(t=>{t.UniqueID===o.UniqueID?t.class="bg-gray-200":delete t.class})},qe=o=>{p.value.selectedPart={...o,class:""},p.value.parts.forEach(t=>{t.UniqueID===o.UniqueID?t.class="bg-gray-200":delete t.class})},Fe=()=>{n.value.title="EditWarranty",n.value.quantity=v.value.selectedWarrantyMaterial.Quantity,n.value.isAddModalOpen=!0},Ge=()=>{n.value.title="EditPart",n.value.quantity=p.value.selectedPart.Quantity,n.value.isAddModalOpen=!0},je=()=>{v.value.selectedWarrantyMaterial&&(v.value.warrantyMaterials=v.value.warrantyMaterials.filter(o=>{var t;return(o==null?void 0:o.UniqueID)!==((t=v.value.selectedWarrantyMaterial)==null?void 0:t.UniqueID)}),M.value.total=v.value.warrantyMaterials.reduce((o,t)=>o+parseFloat(t.Amount),0))},Ye=()=>{p.value.selectedPart&&(p.value.parts=p.value.parts.filter(o=>{var t;return(o==null?void 0:o.UniqueID)!==((t=p.value.selectedPart)==null?void 0:t.UniqueID)}),x.value=p.value.parts.reduce((o,t)=>o+parseFloat(t.Amount),0).toFixed(2))},We=()=>{j.value.isNonConformanceModalOpen=!0},Be=async()=>{A.selectedServiceReport?await R(`/api/service/servicereports/${A.selectedServiceReport}`,{method:"PUT",body:{...i,Parts:v.value.warrantyMaterials,PartsReceived:p.value.parts},onResponse({response:o}){P.add({title:"Success",description:o._data.message,icon:"i-heroicons-check-circle",color:"green"})}}):await R("/api/service/servicereports/",{method:"POST",body:{...i,Parts:v.value.warrantyMaterials,PartsReceived:p.value.parts},onResponse({response:o}){o.status===200&&P.add({title:"Success",description:o._data.message,icon:"i-heroicons-check-circle",color:"green"})}}),w("save")},Le=o=>[];async function He(o){w("save",o.data),w("close")}async function Qe(){w("close")}return Ie(()=>i.REPAIRDATE,()=>i.Week=`${new Date(i.REPAIRDATE).getFullYear().toString().substring(2)}-${Y(i.REPAIRDATE)}`),A.selectedServiceReport?Q():W(),(o,t)=>{const r=Ce,f=vl,D=dt,U=Pe,ne=Ve,Je=ft,pe=Te,ze=Se,L=Ae,ve=De,be=Oe,z=pt,Ke=Ee,ye=vt,Xe=pl;return _(),h(F,null,[e("div",bl,[s(l(Me),{active:l(b),"onUpdate:active":t[0]||(t[0]=a=>Re(b)?b.value=a:null),"is-full-page":!0,color:"#000000",backgroundColor:"#1B2533",loader:"dots"},null,8,["active"])]),s(Ke,{validate:Le,"validate-on":["submit"],state:l(i),onSubmit:He},{default:c(()=>[e("div",yl,[e("div",ml,[_l,e("div",xl,[e("div",gl,[e("div",hl,[e("div",wl,[e("div",kl,[Il,e("div",null,q(l(i).CANO),1)])]),e("div",Rl,[e("div",Cl,[e("div",Pl,[e("div",Sl,[El,e("div",Dl,[s(D,{popper:{placement:"bottom-start"}},{panel:c(({close:a})=>[s(f,{modelValue:l(i).REPAIRDATE,"onUpdate:modelValue":t[1]||(t[1]=V=>l(i).REPAIRDATE=V),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:c(()=>[s(r,{icon:"i-heroicons-calendar-days-20-solid",label:l(i).REPAIRDATE&&l(he)(l(i).REPAIRDATE,"MM/dd/yyyy"),variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""},null,8,["label"])]),_:1})])])]),e("div",Al,[e("div",Tl,[Ol,e("div",Ml,[s(U,{modelValue:l(i).Week,"onUpdate:modelValue":t[2]||(t[2]=a=>l(i).Week=a)},null,8,["modelValue"])])])])])])]),e("div",Vl,[e("div",Ul,[e("div",Nl,[(_(!0),h(F,null,N(l(le),a=>(_(),ee(ne,H({key:a.value,modelValue:l(i).ServiceStatus,"onUpdate:modelValue":t[3]||(t[3]=V=>l(i).ServiceStatus=V),ref_for:!0},a),null,16,["modelValue"]))),128))])]),e("div",$l,[e("div",ql,[Fl,s(Je,{modelValue:l(i).REPAIRSBY,"onUpdate:modelValue":t[4]||(t[4]=a=>l(i).REPAIRSBY=a),options:l(I)},null,8,["modelValue","options"])])])]),e("div",Gl,[e("div",jl,[e("div",Yl,[e("div",Wl,[(_(!0),h(F,null,N(l(ae),a=>(_(),ee(ne,H({key:a.value,modelValue:l(i).REPAIRDESC,"onUpdate:modelValue":t[5]||(t[5]=V=>l(i).REPAIRDESC=V),ref_for:!0},a),null,16,["modelValue"]))),128))]),e("div",Bl,[Ll,e("div",Hl,[s(U,{modelValue:l(i).FactoryHours,"onUpdate:modelValue":t[6]||(t[6]=a=>l(i).FactoryHours=a),type:"number"},null,8,["modelValue"])])])])]),e("div",Ql,[e("div",Jl,[e("div",zl,[e("div",Kl,[e("div",Xl,[Zl,e("div",ea,[s(U,{modelValue:l(i).TravelHours,"onUpdate:modelValue":t[7]||(t[7]=a=>l(i).TravelHours=a),type:"number"},null,8,["modelValue"])])])]),e("div",ta,[e("div",la,[aa,e("div",sa,[s(U,{modelValue:l(i).Miles,"onUpdate:modelValue":t[8]||(t[8]=a=>l(i).Miles=a),type:"number"},null,8,["modelValue"])])])])]),e("div",oa,[e("div",ia,[e("div",na,[ra,e("div",da,[s(U,{modelValue:l(i).OnsiteHours,"onUpdate:modelValue":t[9]||(t[9]=a=>l(i).OnsiteHours=a),type:"number"},null,8,["modelValue"])])])]),e("div",ua,[e("div",ca,[fa,e("div",pa,[s(U,{modelValue:l(i).PerDiem,"onUpdate:modelValue":t[10]||(t[10]=a=>l(i).PerDiem=a),type:"number"},null,8,["modelValue"])])])])])])])]),e("div",va,[ba,e("div",ya,[s(pe,{modelValue:l(i).REPAIRSMADE,"onUpdate:modelValue":t[11]||(t[11]=a=>l(i).REPAIRSMADE=a),rows:2},null,8,["modelValue"])])])]),e("div",ma,[e("div",_a,[s(ze,{label:"Was device performing per specification?"},{default:c(()=>[e("div",xa,[(_(!0),h(F,null,N(l(se),a=>(_(),ee(ne,H({key:a.value,modelValue:l(i).performs_to_spec,"onUpdate:modelValue":t[12]||(t[12]=V=>l(i).performs_to_spec=V),ref_for:!0},a),null,16,["modelValue"]))),128))]),s(pe,{modelValue:l(i).performsnotext,"onUpdate:modelValue":t[13]||(t[13]=a=>l(i).performsnotext=a),rows:6},null,8,["modelValue"])]),_:1})])])])]),e("div",ga,[ha,e("div",wa,[s(L,{rows:l(C).invoices,columns:l(C).defaultColumns,ui:{wrapper:"h-[155px] border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:oe},{"empty-state":c(()=>[ka]),_:1},8,["rows","columns"]),e("div",Ia,[e("div",Ra,[s(r,{icon:"i-heroicons-plus-20-solid",label:"Look-Up Invoice",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center break-words text-center w-full"},truncate:""})]),e("div",Ca,[s(r,{icon:"i-heroicons-plus-20-solid",label:"Create Invoice",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center break-words text-center w-full"},truncate:""})]),e("div",Pa,[s(r,{icon:"i-heroicons-minus-circle-20-solid",label:"Unlink",variant:"outline",color:"red",ui:{base:"w-full",truncate:"flex justify-center break-words text-center w-full h-full"},truncate:""})])])])])]),e("div",Sa,[Ea,e("div",Da,[e("div",Aa,[s(L,{rows:l(y).warrantyMaterials,columns:l(y).defaultColumns,loading:l(y).isLoading,class:"w-full",ui:{wrapper:"h-[210px] overflow-y-auto border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{base:"h-[31px]",padding:"py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},onSelect:d,onDblclick:ie},te({"UniqueID-data":c(({row:a})=>[e("div",Ma,q(a.UniqueID),1)]),"edit-data":c(({row:a})=>[s(z,{text:"Detail",class:"flex justify-center"},{default:c(()=>[s(r,{color:"gray",variant:"ghost",icon:"i-heroicons-pencil-square",onClick:t[16]||(t[16]=()=>{})})]),_:1})]),"delete-data":c(({row:a})=>[s(z,{text:"Delete",class:"flex justify-center"},{default:c(()=>[s(r,{color:"gray",variant:"ghost",icon:"i-heroicons-trash",onClick:t[17]||(t[17]=()=>{})})]),_:1})]),"empty-state":c(()=>[Va]),_:2},[N(l(y).defaultColumns,a=>({name:`${a.key}-header`,fn:c(()=>[a.filterOptions?(_(),h("div",Oa,[s(be,{onHandleSortingButton:t[15]||(t[15]=()=>{}),onHandleSelectChange:B,label:a.label,sortable:a.sortable,"sort-key":a.key,"sort-icon":(a==null?void 0:a.sortDirection)==="none"?Z:(a==null?void 0:a.sortDirection)==="asc"?K:X,value:l(O)[a.key],filterable:a.filterable,"filter-key":a.key,"filter-options":a.filterOptions},null,8,["label","sortable","sort-key","sort-icon","value","filterable","filter-key","filter-options"])])):(_(),h("div",Ta,[s(ve,{onHandleSortingButton:t[14]||(t[14]=()=>{}),onHandleInputChange:B,label:a.label,sortable:a.sortable,"sort-key":a.key,"sort-icon":(a==null?void 0:a.sortDirection)==="none"?Z:(a==null?void 0:a.sortDirection)==="asc"?K:X,filterable:a.filterable,"filter-key":a.key},null,8,["label","sortable","sort-key","sort-icon","filterable","filter-key"])]))])}))]),1032,["rows","columns","loading"])]),e("div",Ua,[e("div",Na,[e("div",$a,[e("div",qa,[Fa,e("div",Ga,[e("div",ja,[s(D,{popper:{placement:"bottom-start"}},{panel:c(({close:a})=>[s(f,{modelValue:l(i).DATESHIPPED,"onUpdate:modelValue":t[18]||(t[18]=V=>l(i).DATESHIPPED=V),"is-required":"",onClose:a},null,8,["modelValue","onClose"])]),default:c(()=>[s(r,{icon:"i-heroicons-calendar-days-20-solid",label:l(i).DATESHIPPED&&l(he)(l(i).DATESHIPPED,"MM/dd/yyyy"),variant:"outline",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""},null,8,["label"])]),_:1})])])])]),e("div",Ya,[e("div",Wa,[Ba,e("div",La,[s(U,{modelValue:l(i).Shipping,"onUpdate:modelValue":t[19]||(t[19]=a=>l(i).Shipping=a)},null,8,["modelValue"])])])]),e("div",Ha,[e("div",Qa,[Ja,e("div",za,q(l(M).total),1)])]),e("div",Ka,[s(r,{label:"Remove Part",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:je})])]),s(L,{rows:l(v).warrantyMaterials,columns:l(v).defaultColumns,loading:l(v).isLoading,class:"w-full",ui:{wrapper:"h-[170px] overflow-y-auto border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},onSelect:$e,onDblclick:Fe},{"empty-state":c(()=>[Xa]),_:1},8,["rows","columns","loading"])])])]),e("div",Za,[es,e("div",ts,[e("div",ls,[s(L,{rows:l(g).parts,columns:l(g).defaultColumns,loading:l(g).isLoading,class:"w-full",ui:{wrapper:"h-[210px] overflow-y-auto border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"p-0"},td:{base:"h-[31px]",padding:"py-0"}},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"No items."},onSelect:Ue,onDblclick:Ne},te({"UniqueID-data":c(({row:a})=>[e("div",os,q(a.UniqueID),1)]),"edit-data":c(({row:a})=>[s(z,{text:"Detail",class:"flex justify-center"},{default:c(()=>[s(r,{color:"gray",variant:"ghost",icon:"i-heroicons-pencil-square",onClick:t[22]||(t[22]=()=>{})})]),_:1})]),"delete-data":c(({row:a})=>[s(z,{text:"Delete",class:"flex justify-center"},{default:c(()=>[s(r,{color:"gray",variant:"ghost",icon:"i-heroicons-trash",onClick:t[23]||(t[23]=()=>{})})]),_:1})]),"empty-state":c(()=>[is]),_:2},[N(l(g).defaultColumns,a=>({name:`${a.key}-header`,fn:c(()=>[a.filterOptions?(_(),h("div",ss,[s(be,{onHandleSortingButton:t[21]||(t[21]=()=>{}),onHandleSelectChange:J,label:a.label,sortable:a.sortable,"sort-key":a.key,"sort-icon":(a==null?void 0:a.sortDirection)==="none"?Z:(a==null?void 0:a.sortDirection)==="asc"?K:X,value:l($)[a.key],filterable:a.filterable,"filter-key":a.key,"filter-options":a.filterOptions},null,8,["label","sortable","sort-key","sort-icon","value","filterable","filter-key","filter-options"])])):(_(),h("div",as,[s(ve,{onHandleSortingButton:t[20]||(t[20]=()=>{}),onHandleInputChange:J,label:a.label,sortable:a.sortable,"sort-key":a.key,"sort-icon":(a==null?void 0:a.sortDirection)==="none"?Z:(a==null?void 0:a.sortDirection)==="asc"?K:X,filterable:a.filterable,"filter-key":a.key},null,8,["label","sortable","sort-key","sort-icon","filterable","filter-key"])]))])}))]),1032,["rows","columns","loading"]),ns]),e("div",rs,[s(L,{rows:l(p).parts,columns:l(p).defaultColumns,loading:l(p).isLoading,class:"w-full",ui:{wrapper:"h-[210px] overflow-y-auto border-2 border-gray-300 dark:border-gray-700",divide:"divide-gray-200 dark:divide-gray-800",tr:{active:"hover:bg-gray-200 dark:hover:bg-gray-800/50"},th:{base:"sticky top-0 z-10",color:"bg-white dark:text-gray dark:bg-[#111827]",padding:"px-2 py-0"},td:{base:"h-[31px]",padding:"px-2 py-0"}},onSelect:qe,onDblclick:Ge},{"empty-state":c(()=>[ds]),_:1},8,["rows","columns","loading"]),us])]),e("div",cs,[e("div",fs,[s(r,{icon:"i-heroicons-document",label:"Save",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:Be})]),e("div",ps,[s(r,{icon:"i-heroicons-magnifying-glass",label:"View Order",variant:"outline",color:"primary",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:Qe})]),e("div",vs,[s(r,{icon:"i-heroicons-currency-dollar",label:"Quickbooks",variant:"outline",color:"primary",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:""})]),e("div",bs,[s(r,{icon:"i-heroicons-minus-circle",label:"Remove Part",variant:"outline",color:"red",ui:{base:"w-full",truncate:"flex justify-center w-full"},onClick:Ye,truncate:""})]),e("div",ys,[s(r,{icon:"i-heroicons-document",label:"Non-Conformance Create/View",variant:"outline",color:"green",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:We})]),e("div",ms,[e("div",_s,[xs,e("div",gs,q(l(x)),1)])])])])]),_:1},8,["state"]),s(ye,{modelValue:l(n).isAddModalOpen,"onUpdate:modelValue":t[27]||(t[27]=a=>l(n).isAddModalOpen=a),ui:{header:{base:"flex flex-row min-h-[0] items-center",padding:"p-0 pt-1"},body:{base:"gap-y-1",padding:"py-0 sm:pt-0"},width:"w-[300px]"}},{default:c(()=>[e("div",null,[e("div",hs,[ws,e("div",ks,[s(U,{type:"number",ui:{base:l(k)},modelValue:l(n).quantity,"onUpdate:modelValue":t[24]||(t[24]=a=>l(n).quantity=a),onKeypress:t[25]||(t[25]=a=>{a.which===13&&fe()})},null,8,["ui","modelValue"])])]),e("div",Is,[e("div",Rs,[s(r,{label:"OK",ui:{base:"w-full",truncate:"flex justify-center w-full"},type:"submit",truncate:"",onClick:fe})]),e("div",Cs,[s(r,{label:"Cancel",ui:{base:"w-full",truncate:"flex justify-center w-full"},truncate:"",onClick:t[26]||(t[26]=a=>l(n).isAddModalOpen=!1)})])])])]),_:1},8,["modelValue"]),s(ye,{modelValue:l(j).isNonConformanceModalOpen,"onUpdate:modelValue":t[28]||(t[28]=a=>l(j).isNonConformanceModalOpen=a),title:"Non Conformance",ui:{title:"text-lg",header:{base:"flex flex-row min-h-[0] items-center",padding:"pt-5 sm:px-9"},body:{base:"gap-y-1",padding:"sm:pt-0 sm:px-9 sm:py-3 sm:pb-5"},width:"w-[1800px] sm:max-w-9xl"}},{default:c(()=>[s(Xe)]),_:1},8,["modelValue"])],64)}}});export{Ve as _,$s as a,pl as b};
